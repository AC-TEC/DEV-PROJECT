(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var nd={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function gA(){if(Ky)return tl;Ky=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return tl.Fragment=t,tl.jsx=i,tl.jsxs=i,tl}var Yy;function pA(){return Yy||(Yy=1,nd.exports=gA()),nd.exports}var ee=pA(),id={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function yA(){if(Xy)return Tt;Xy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(I,Y,et){this.props=I,this.context=Y,this.refs=nt,this.updater=et||F}J.prototype.isReactComponent={},J.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function bt(){}bt.prototype=J.prototype;function yt(I,Y,et){this.props=I,this.context=Y,this.refs=nt,this.updater=et||F}var ft=yt.prototype=new bt;ft.constructor=yt,Z(ft,J.prototype),ft.isPureReactComponent=!0;var kt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function N(I,Y,et,$,ot,Rt){return et=Rt.ref,{$$typeof:a,type:I,key:Y,ref:et!==void 0?et:null,props:Rt}}function S(I,Y){return N(I.type,Y,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function O(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(et){return Y[et]})}var V=/\/+/g;function U(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):Y.toString(36)}function w(){}function Ve(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ie(I,Y,et,$,ot){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var pt=!1;if(I===null)pt=!0;else switch(Rt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(I.$$typeof){case a:case t:pt=!0;break;case A:return pt=I._init,ie(pt(I._payload),Y,et,$,ot)}}if(pt)return ot=ot(I),pt=$===""?"."+U(I,0):$,kt(ot)?(et="",pt!=null&&(et=pt.replace(V,"$&/")+"/"),ie(ot,Y,et,"",function(xn){return xn})):ot!=null&&(R(ot)&&(ot=S(ot,et+(ot.key==null||I&&I.key===ot.key?"":(""+ot.key).replace(V,"$&/")+"/")+pt)),Y.push(ot)),1;pt=0;var Re=$===""?".":$+":";if(kt(I))for(var $t=0;$t<I.length;$t++)$=I[$t],Rt=Re+U($,$t),pt+=ie($,Y,et,Rt,ot);else if($t=x(I),typeof $t=="function")for(I=$t.call(I),$t=0;!($=I.next()).done;)$=$.value,Rt=Re+U($,$t++),pt+=ie($,Y,et,Rt,ot);else if(Rt==="object"){if(typeof I.then=="function")return ie(Ve(I),Y,et,$,ot);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pt}function j(I,Y,et){if(I==null)return I;var $=[],ot=0;return ie(I,$,"","",function(Rt){return Y.call(et,Rt,ot++)}),$}function tt(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(et){(I._status===0||I._status===-1)&&(I._status=1,I._result=et)},function(et){(I._status===0||I._status===-1)&&(I._status=2,I._result=et)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function xt(){}return Tt.Children={map:j,forEach:function(I,Y,et){j(I,function(){Y.apply(this,arguments)},et)},count:function(I){var Y=0;return j(I,function(){Y++}),Y},toArray:function(I){return j(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Tt.Component=J,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=yt,Tt.StrictMode=s,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return _t.H.useMemoCache(I)}},Tt.cache=function(I){return function(){return I.apply(null,arguments)}},Tt.cloneElement=function(I,Y,et){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var $=Z({},I.props),ot=I.key,Rt=void 0;if(Y!=null)for(pt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(ot=""+Y.key),Y)!Nt.call(Y,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Y.ref===void 0||($[pt]=Y[pt]);var pt=arguments.length-2;if(pt===1)$.children=et;else if(1<pt){for(var Re=Array(pt),$t=0;$t<pt;$t++)Re[$t]=arguments[$t+2];$.children=Re}return N(I.type,ot,void 0,void 0,Rt,$)},Tt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Tt.createElement=function(I,Y,et){var $,ot={},Rt=null;if(Y!=null)for($ in Y.key!==void 0&&(Rt=""+Y.key),Y)Nt.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=Y[$]);var pt=arguments.length-2;if(pt===1)ot.children=et;else if(1<pt){for(var Re=Array(pt),$t=0;$t<pt;$t++)Re[$t]=arguments[$t+2];ot.children=Re}if(I&&I.defaultProps)for($ in pt=I.defaultProps,pt)ot[$]===void 0&&(ot[$]=pt[$]);return N(I,Rt,void 0,void 0,null,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(I){return{$$typeof:g,render:I}},Tt.isValidElement=R,Tt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:tt}},Tt.memo=function(I,Y){return{$$typeof:v,type:I,compare:Y===void 0?null:Y}},Tt.startTransition=function(I){var Y=_t.T,et={};_t.T=et;try{var $=I(),ot=_t.S;ot!==null&&ot(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xt,at)}catch(Rt){at(Rt)}finally{_t.T=Y}},Tt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Tt.use=function(I){return _t.H.use(I)},Tt.useActionState=function(I,Y,et){return _t.H.useActionState(I,Y,et)},Tt.useCallback=function(I,Y){return _t.H.useCallback(I,Y)},Tt.useContext=function(I){return _t.H.useContext(I)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(I,Y){return _t.H.useDeferredValue(I,Y)},Tt.useEffect=function(I,Y,et){var $=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(I,Y)},Tt.useId=function(){return _t.H.useId()},Tt.useImperativeHandle=function(I,Y,et){return _t.H.useImperativeHandle(I,Y,et)},Tt.useInsertionEffect=function(I,Y){return _t.H.useInsertionEffect(I,Y)},Tt.useLayoutEffect=function(I,Y){return _t.H.useLayoutEffect(I,Y)},Tt.useMemo=function(I,Y){return _t.H.useMemo(I,Y)},Tt.useOptimistic=function(I,Y){return _t.H.useOptimistic(I,Y)},Tt.useReducer=function(I,Y,et){return _t.H.useReducer(I,Y,et)},Tt.useRef=function(I){return _t.H.useRef(I)},Tt.useState=function(I){return _t.H.useState(I)},Tt.useSyncExternalStore=function(I,Y,et){return _t.H.useSyncExternalStore(I,Y,et)},Tt.useTransition=function(){return _t.H.useTransition()},Tt.version="19.1.0",Tt}var $y;function Gd(){return $y||($y=1,id.exports=yA()),id.exports}var nl=Gd(),rd={exports:{}},el={},sd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function _A(){return Zy||(Zy=1,function(a){function t(j,tt){var at=j.length;j.push(tt);t:for(;0<at;){var xt=at-1>>>1,I=j[xt];if(0<l(I,tt))j[xt]=tt,j[at]=I,at=xt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var tt=j[0],at=j.pop();if(at!==tt){j[0]=at;t:for(var xt=0,I=j.length,Y=I>>>1;xt<Y;){var et=2*(xt+1)-1,$=j[et],ot=et+1,Rt=j[ot];if(0>l($,at))ot<I&&0>l(Rt,$)?(j[xt]=Rt,j[ot]=at,xt=ot):(j[xt]=$,j[et]=at,xt=et);else if(ot<I&&0>l(Rt,at))j[xt]=Rt,j[ot]=at,xt=ot;else break t}}return tt}function l(j,tt){var at=j.sortIndex-tt.sortIndex;return at!==0?at:j.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,C=null,x=3,F=!1,Z=!1,nt=!1,J=!1,bt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function kt(j){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=j)s(v),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(v)}}function _t(j){if(nt=!1,kt(j),!Z)if(i(p)!==null)Z=!0,Nt||(Nt=!0,U());else{var tt=i(v);tt!==null&&ie(_t,tt.startTime-j)}}var Nt=!1,N=-1,S=5,R=-1;function O(){return J?!0:!(a.unstable_now()-R<S)}function V(){if(J=!1,Nt){var j=a.unstable_now();R=j;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,yt(N),N=-1),F=!0;var at=x;try{e:{for(kt(j),C=i(p);C!==null&&!(C.expirationTime>j&&O());){var xt=C.callback;if(typeof xt=="function"){C.callback=null,x=C.priorityLevel;var I=xt(C.expirationTime<=j);if(j=a.unstable_now(),typeof I=="function"){C.callback=I,kt(j),tt=!0;break e}C===i(p)&&s(p),kt(j)}else s(p);C=i(p)}if(C!==null)tt=!0;else{var Y=i(v);Y!==null&&ie(_t,Y.startTime-j),tt=!1}}break t}finally{C=null,x=at,F=!1}tt=void 0}}finally{tt?U():Nt=!1}}}var U;if(typeof ft=="function")U=function(){ft(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ve=w.port2;w.port1.onmessage=V,U=function(){Ve.postMessage(null)}}else U=function(){bt(V,0)};function ie(j,tt){N=bt(function(){j(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(j){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var at=x;x=tt;try{return j()}finally{x=at}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var at=x;x=j;try{return tt()}finally{x=at}},a.unstable_scheduleCallback=function(j,tt,at){var xt=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?xt+at:xt):at=xt,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=at+I,j={id:A++,callback:tt,priorityLevel:j,startTime:at,expirationTime:I,sortIndex:-1},at>xt?(j.sortIndex=at,t(v,j),i(p)===null&&j===i(v)&&(nt?(yt(N),N=-1):nt=!0,ie(_t,at-xt))):(j.sortIndex=I,t(p,j),Z||F||(Z=!0,Nt||(Nt=!0,U()))),j},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(j){var tt=x;return function(){var at=x;x=tt;try{return j.apply(this,arguments)}finally{x=at}}}}(ad)),ad}var Jy;function vA(){return Jy||(Jy=1,sd.exports=_A()),sd.exports}var od={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function EA(){if(Wy)return He;Wy=1;var a=Gd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},He.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},He.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},He.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:F}):A==="script"&&s.d.X(p,{crossOrigin:C,integrity:x,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},He.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},He.requestFormReset=function(p){s.d.r(p)},He.unstable_batchedUpdates=function(p,v){return p(v)},He.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var t_;function TA(){if(t_)return od.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),od.exports=EA(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function AA(){if(e_)return el;e_=1;var a=vA(),t=Gd(),i=TA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===r){_=!0,r=h,o=f;break}if(E===o){_=!0,o=h,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=h;break}if(E===o){_=!0,o=f,r=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),yt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case yt:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ve(e(n))}catch{}}return null}var ie=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},xt=[],I=-1;function Y(e){return{current:e}}function et(e){0>I||(e.current=xt[I],xt[I]=null,I--)}function $(e,n){I++,xt[I]=e.current,e.current=n}var ot=Y(null),Rt=Y(null),pt=Y(null),Re=Y(null);function $t(e,n){switch($(pt,n),$(Rt,e),$(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ty(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ty(n),e=Ay(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ot),$(ot,e)}function xn(){et(ot),et(Rt),et(pt)}function Hi(e){e.memoizedState!==null&&$(Re,e);var n=ot.current,r=Ay(n,e.type);n!==r&&($(Rt,e),$(ot,r))}function li(e){Rt.current===e&&(et(ot),et(Rt)),Re.current===e&&(et(Re),Xo._currentValue=at)}var Ur=Object.prototype.hasOwnProperty,Pr=a.unstable_scheduleCallback,kr=a.unstable_cancelCallback,Fa=a.unstable_shouldYield,Ol=a.unstable_requestPaint,fn=a.unstable_now,eh=a.unstable_getCurrentPriorityLevel,Qa=a.unstable_ImmediatePriority,Os=a.unstable_UserBlockingPriority,Lr=a.unstable_NormalPriority,nh=a.unstable_LowPriority,Ns=a.unstable_IdlePriority,Ka=a.log,Nl=a.unstable_setDisableYieldValue,re=null,jt=null;function nn(e){if(typeof Ka=="function"&&Nl(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,e)}catch{}}var qe=Math.clz32?Math.clz32:xr,Vl=Math.log,ih=Math.LN2;function xr(e){return e>>>=0,e===0?32:31-(Vl(e)/ih|0)|0}var zr=256,Br=4194304;function Cn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vs(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Cn(o):(_&=E,_!==0?h=Cn(_):r||(r=E&~e,r!==0&&(h=Cn(r))))):(E=o&~f,E!==0?h=Cn(E):_!==0?h=Cn(_):r||(r=o&~e,r!==0&&(h=Cn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ya(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var e=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),e}function $a(){var e=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),e}function ui(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ci(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Za(e,n,r,o,h,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(r=_&~r;0<r;){var H=31-qe(r),Q=1<<H;E[H]=0,b[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}r&=~Q}o!==0&&zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function zn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Ja(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-qe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ms(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:qy(e.type))}function Ml(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Jt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Jt,fe="__reactProps$"+Jt,dn="__reactContainer$"+Jt,Wa="__reactEvents$"+Jt,rh="__reactListeners$"+Jt,Qi="__reactHandles$"+Jt,Ul="__reactResources$"+Jt,jr="__reactMarker$"+Jt;function Ki(e){delete e[ye],delete e[fe],delete e[Wa],delete e[rh],delete e[Qi]}function hi(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[dn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=wy(e);e!==null;){if(r=e[ye])return r;e=wy(e)}return n}e=r,r=e.parentNode}return null}function Bn(e){if(e=e[ye]||e[dn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ye(e){var n=e[Ul];return n||(n=e[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[jr]=!0}var to=new Set,Us={};function Dn(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Us[e]=n,e=0;e<n.length;e++)to.add(n[e])}var Pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Hr={};function Ll(e){return Ur.call(Hr,e)?!0:Ur.call(kl,e)?!1:Pl.test(e)?Hr[e]=!0:(kl[e]=!0,!1)}function Yi(e,n,r){if(Ll(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function jn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Me(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Gr,xl;function di(e){if(Gr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",xl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+e+xl}var Ps=!1;function ks(e,n){if(!e||Ps)return"";Ps=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Ps=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?di(r):""}function eo(e){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return ks(e.type,!1);case 11:return ks(e.type.render,!1);case 1:return ks(e.type,!0);case 31:return di("Activity");default:return""}}function Ls(e){try{var n="";do n+=eo(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function no(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sh(e){var n=no(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function xs(e){e._valueTracker||(e._valueTracker=sh(e))}function io(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=no(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ah=/[\n"\\]/g;function de(e){return e.replace(ah,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,r,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Xi(e,_,Xe(n)):r!=null?Xi(e,_,Xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Qr(e,n,r,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Xi(e,n,r){n==="number"&&Fr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function mi(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ft(e,n,r){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Xe(r):""}function Kr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function mn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Yr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function ro(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&zl(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zl(e,f,n[f])}function so(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return lh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,yi=null;function ao(e){var n=Bn(e);if(n&&(e=n.stateNode)){var r=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(s(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&io(o)}break t;case"textarea":Ft(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(e,!!r.multiple,n,!1)}}}var Hn=!1;function Bl(e,n,r){if(Hn)return e(n,r);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(pi!==null||yi!==null)&&(Mu(),pi&&(n=pi,e=yi,yi=pi=null,ao(n),e)))for(n=0;n<e.length;n++)ao(e[n])}}function Xr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[fe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(On)try{var $r={};Object.defineProperty($r,"passive",{get:function(){pn=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{pn=!1}var Gn=null,$i=null,_i=null;function oo(){if(_i)return _i;var e,n=$i,r=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===h[f-o];o++);return _i=h.slice(e,1<o?1-o:void 0)}function Fn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function lo(){return!1}function we(e){function n(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:lo,this.isPropagationStopped=lo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=we(Bt),Zr=A({},Bt,{view:0,detail:0}),ql=we(Zr),qs,js,Kn,Jr=A({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(qs=e.screenX-Kn.screenX,js=e.screenY-Kn.screenY):js=qs=0,Kn=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:js}}),yn=we(Jr),jl=A({},Jr,{dataTransfer:0}),uh=we(jl),Wr=A({},Zr,{relatedTarget:0}),Hs=we(Wr),uo=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=we(uo),Hl=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fs=we(Hl),ch=A({},Bt,{data:0}),co=we(ch),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Fl[e])?!!n[e]:!1}function es(){return ho}var Ql=A({},Zr,{key:function(e){if(e.key){var n=ts[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?Fn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qs=we(Ql),Kl=A({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=we(Kl),vi=A({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),Yl=we(vi),Xl=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),$l=we(Xl),Zl=A({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=we(Zl),$e=A({},Bt,{newState:0,oldState:0}),Jl=we($e),Wl=[9,13,27,32],Yn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,y=On&&(!Yn||u&&8<u&&11>=u),T=" ",P=!1;function q(e,n){switch(e){case"keyup":return Wl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function _e(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return e=n.data,e===T&&P?null:e;default:return null}}function Mt(e,n){if(Vt)return e==="compositionend"||!Yn&&q(e,n)?(e=oo(),_i=$i=Gn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ei(e,n,r,o){pi?yi?yi.push(o):yi=[o]:pi=o,n=zu(n,"onChange"),0<n.length&&(r=new Bs("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ue=null,Xn=null;function mo(e){py(e,0)}function tu(e){var n=qn(e);if(io(n))return e}function Lm(e,n){if(e==="change")return n}var xm=!1;if(On){var hh;if(On){var fh="oninput"in document;if(!fh){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),fh=typeof zm.oninput=="function"}hh=fh}else hh=!1;xm=hh&&(!document.documentMode||9<document.documentMode)}function Bm(){Ue&&(Ue.detachEvent("onpropertychange",qm),Xn=Ue=null)}function qm(e){if(e.propertyName==="value"&&tu(Xn)){var n=[];Ei(n,Xn,e,gn(e)),Bl(mo,n)}}function FT(e,n,r){e==="focusin"?(Bm(),Ue=n,Xn=r,Ue.attachEvent("onpropertychange",qm)):e==="focusout"&&Bm()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tu(Xn)}function KT(e,n){if(e==="click")return tu(n)}function YT(e,n){if(e==="input"||e==="change")return tu(n)}function XT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:XT;function go(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Ur.call(n,h)||!sn(e[h],n[h]))return!1}return!0}function jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hm(e,n){var r=jm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=jm(r)}}function Gm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Fr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Fr(e.document)}return n}function dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $T=On&&"documentMode"in document&&11>=document.documentMode,Ys=null,mh=null,po=null,gh=!1;function Qm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gh||Ys==null||Ys!==Fr(o)||(o=Ys,"selectionStart"in o&&dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),po&&go(po,o)||(po=o,o=zu(mh,"onSelect"),0<o.length&&(n=new Bs("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ys)))}function ns(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Xs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},ph={},Km={};On&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function is(e){if(ph[e])return ph[e];if(!Xs[e])return e;var n=Xs[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Km)return ph[e]=n[r];return e}var Ym=is("animationend"),Xm=is("animationiteration"),$m=is("animationstart"),ZT=is("transitionrun"),JT=is("transitionstart"),WT=is("transitioncancel"),Zm=is("transitionend"),Jm=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function Nn(e,n){Jm.set(e,n),Dn(n,[e])}var Wm=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var r=Wm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ls(n)},Wm.set(e,n),n)}return{value:e,source:n,stack:Ls(n)}}var vn=[],$s=0,_h=0;function eu(){for(var e=$s,n=_h=$s=0;n<e;){var r=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var h=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&tg(r,h,f)}}function nu(e,n,r,o){vn[$s++]=e,vn[$s++]=n,vn[$s++]=r,vn[$s++]=o,_h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vh(e,n,r,o){return nu(e,n,r,o),iu(e)}function Zs(e,n){return nu(e,null,null,n),iu(e)}function tg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-qe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function iu(e){if(50<qo)throw qo=0,wf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Js={};function t0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,r,o){return new t0(e,n,r,o)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,n){var r=e.alternate;return r===null?(r=an(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function eg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ru(e,n,r,o,h,f){var _=0;if(o=e,typeof e=="function")Eh(e)&&(_=1);else if(typeof e=="string")_=nA(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=an(31,r,n,h),e.elementType=R,e.lanes=f,e;case Z:return rs(r.children,h,f,n);case nt:_=8,h|=24;break;case J:return e=an(12,r,n,h|2),e.elementType=J,e.lanes=f,e;case _t:return e=an(13,r,n,h),e.elementType=_t,e.lanes=f,e;case Nt:return e=an(19,r,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bt:case ft:_=10;break t;case yt:_=9;break t;case kt:_=11;break t;case N:_=14;break t;case S:_=16,o=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=an(_,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function rs(e,n,r,o){return e=an(7,e,o,n),e.lanes=r,e}function Th(e,n,r){return e=an(6,e,null,n),e.lanes=r,e}function Ah(e,n,r){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ws=[],ta=0,su=null,au=0,En=[],Tn=0,ss=null,Ai=1,Si="";function as(e,n){Ws[ta++]=au,Ws[ta++]=su,su=e,au=n}function ng(e,n,r){En[Tn++]=Ai,En[Tn++]=Si,En[Tn++]=ss,ss=e;var o=Ai;e=Si;var h=32-qe(o)-1;o&=~(1<<h),r+=1;var f=32-qe(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ai=1<<32-qe(n)+h|r<<h|o,Si=f+e}else Ai=1<<f|r<<h|o,Si=e}function Sh(e){e.return!==null&&(as(e,1),ng(e,1,0))}function bh(e){for(;e===su;)su=Ws[--ta],Ws[ta]=null,au=Ws[--ta],Ws[ta]=null;for(;e===ss;)ss=En[--Tn],En[Tn]=null,Si=En[--Tn],En[Tn]=null,Ai=En[--Tn],En[Tn]=null}var Ze=null,se=null,zt=!1,os=null,$n=!1,Rh=Error(s(519));function ls(e){var n=Error(s(418,""));throw vo(_n(n,e)),Rh}function ig(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[fe]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Ho.length;r++)Ct(Ho[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Qr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),xs(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Kr(n,o.value,o.defaultValue,o.children),xs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Ey(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Bu),n=!0):n=!1,n||ls(e)}function rg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function yo(e){if(e!==Ze)return!1;if(!zt)return rg(e),zt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||jf(e.type,e.memoizedProps)),r=!r),r&&se&&ls(e),rg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){se=Mn(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}se=null}}else n===27?(n=se,fr(e.type)?(e=Qf,Qf=null,se=e):se=n):se=Ze?Mn(e.stateNode.nextSibling):null;return!0}function _o(){se=Ze=null,zt=!1}function sg(){var e=os;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),os=null),e}function vo(e){os===null?os=[e]:os.push(e)}var wh=Y(null),us=null,bi=null;function Zi(e,n,r){$(wh,n._currentValue),n._currentValue=r}function Ri(e){e._currentValue=wh.current,et(wh)}function Ih(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Ch(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Ih(f.return,r,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Ih(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Eo(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;sn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Xo):e=[Xo])}h=h.return}e!==null&&Ch(n,e,r,o),n.flags|=262144}function ou(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){us=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return ag(us,e)}function lu(e,n){return us===null&&cs(e),ag(e,n)}function ag(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(e===null)throw Error(s(308));bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else bi=bi.next=n;return r}var e0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},n0=a.unstable_scheduleCallback,i0=a.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new e0,data:new Map,refCount:0}}function To(e){e.refCount--,e.refCount===0&&n0(i0,function(){e.controller.abort()})}var Ao=null,Oh=0,ea=0,na=null;function r0(e,n){if(Ao===null){var r=Ao=[];Oh=0,ea=Mf(),na={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Oh++,n.then(og,og),n}function og(){if(--Oh===0&&Ao!==null){na!==null&&(na.status="fulfilled");var e=Ao;Ao=null,ea=0,na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function s0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var lg=j.S;j.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&r0(e,n),lg!==null&&lg(e,n)};var hs=Y(null);function Nh(){var e=hs.current;return e!==null?e:Zt.pooledCache}function uu(e,n){n===null?$(hs,hs.current):$(hs,n.pool)}function ug(){var e=Nh();return e===null?null:{parent:Ee._currentValue,pool:e}}var So=Error(s(460)),cg=Error(s(474)),cu=Error(s(542)),Vh={then:function(){}};function hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hu(){}function fg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(hu,hu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mg(e),e;default:if(typeof n.status=="string")n.then(hu,hu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mg(e),e}throw bo=n,So}}var bo=null;function dg(){if(bo===null)throw Error(s(459));var e=bo;return bo=null,e}function mg(e){if(e===So||e===cu)throw Error(s(483))}var Ji=!1;function Mh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=iu(e),tg(e,null,r),n}return nu(e,o,n,r),iu(e)}function Ro(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ja(e,r)}}function Ph(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var kh=!1;function wo(){if(kh){var e=na;if(e!==null)throw e}}function Io(e,n,r,o){kh=!1;var h=e.updateQueue;Ji=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,_===null?f=L:_.next=L,_=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;_=0,H=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ut&z)===z:(o&z)===z){z!==0&&z===ea&&(kh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=e,lt=E;z=n;var Yt=r;switch(lt.tag){case 1:if(dt=lt.payload,typeof dt=="function"){Q=dt.call(Yt,Q,z);break t}Q=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=lt.payload,z=typeof dt=="function"?dt.call(Yt,Q,z):dt,z==null)break t;Q=A({},Q,z);break t;case 2:Ji=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=Q):H=H.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),lr|=_,e.lanes=_,e.memoizedState=Q}}function gg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function pg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)gg(r[e],n)}var ia=Y(null),fu=Y(0);function yg(e,n){e=Vi,$(fu,e),$(ia,n),Vi=e|n.baseLanes}function Lh(){$(fu,Vi),$(ia,ia.current)}function xh(){Vi=fu.current,et(ia),et(fu)}var er=0,At=null,Qt=null,me=null,du=!1,ra=!1,fs=!1,mu=0,Co=0,sa=null,a0=0;function ue(){throw Error(s(321))}function zh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!sn(e[r],n[r]))return!1;return!0}function Bh(e,n,r,o,h,f){return er=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?tp:ep,fs=!1,f=r(o,h),fs=!1,ra&&(f=vg(n,r,o,h)),_g(e),f}function _g(e){j.H=Eu;var n=Qt!==null&&Qt.next!==null;if(er=0,me=Qt=At=null,du=!1,Co=0,sa=null,n)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&ou(e)&&(Ce=!0))}function vg(e,n,r,o){At=e;var h=0;do{if(ra&&(sa=null),Co=0,ra=!1,25<=h)throw Error(s(301));if(h+=1,me=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=d0,f=n(r,o)}while(ra);return f}function o0(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Do(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(At.flags|=1024),n}function qh(){var e=mu!==0;return mu=0,e}function jh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Hh(e){if(du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}du=!1}er=0,me=Qt=At=null,ra=!1,Co=mu=0,sa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=e:me=me.next=e,me}function ge(){if(Qt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,Qt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?At.memoizedState=me=e:me=me.next=e}return me}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var n=Co;return Co+=1,sa===null&&(sa=[]),e=fg(sa,e,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?tp:ep),e}function gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===ft)return je(e)}throw Error(s(438,String(e)))}function Fh(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function wi(e,n){return typeof n=="function"?n(e):n}function pu(e){var n=ge();return Qh(n,Qt,e)}function Qh(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,b=null,L=n,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ut&Q)===Q:(er&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ea&&(H=!0);else if((er&z)===z){L=L.next,z===ea&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,_=f):b=b.next=Q,At.lanes|=z,lr|=z;Q=L.action,fs&&r(f,Q),f=L.hasEagerState?L.eagerState:r(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,_=f):b=b.next=z,At.lanes|=Q,lr|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?_=f:b.next=E,!sn(f,e.memoizedState)&&(Ce=!0,H&&(r=na,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Kh(e){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);sn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Eg(e,n,r){var o=At,h=ge(),f=zt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!sn((Qt||h).memoizedState,r);_&&(h.memoizedState=r,Ce=!0),h=h.queue;var E=Sg.bind(null,o,h,e);if(Oo(2048,8,E,[e]),h.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,aa(9,yu(),Ag.bind(null,o,h,r,n),null),Zt===null)throw Error(s(349));f||(er&124)!==0||Tg(o,n,r)}return r}function Tg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Gh(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ag(e,n,r,o){n.value=r,n.getSnapshot=o,bg(n)&&Rg(e)}function Sg(e,n,r){return r(function(){bg(n)&&Rg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!sn(e,r)}catch{return!0}}function Rg(e){var n=Zs(e,2);n!==null&&hn(n,e,2)}function Yh(e){var n=Je();if(typeof e=="function"){var r=e;if(e=r(),fs){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},n}function wg(e,n,r,o){return e.baseState=r,Qh(e,Qt,typeof o=="function"?o:wi)}function l0(e,n,r,o,h){if(vu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};j.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ig(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,_={};j.T=_;try{var E=r(h,o),b=j.S;b!==null&&b(_,E),Cg(e,n,E)}catch(L){Xh(e,n,L)}finally{j.T=f}}else try{f=r(h,o),Cg(e,n,f)}catch(L){Xh(e,n,L)}}function Cg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Dg(e,n,o)},function(o){return Xh(e,n,o)}):Dg(e,n,r)}function Dg(e,n,r){n.status="fulfilled",n.value=r,Og(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Ig(e,r)))}function Xh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Og(n),n=n.next;while(n!==o)}e.action=null}function Og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ng(e,n){return n}function Vg(e,n){if(zt){var r=Zt.formState;if(r!==null){t:{var o=At;if(zt){if(se){e:{for(var h=se,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Mn(h.nextSibling),o=h.data==="F!";break t}}ls(o)}o=!1}o&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=o,r=Zg.bind(null,At,o),o.dispatch=r,o=Yh(!1),f=tf.bind(null,At,!1,o.queue),o=Je(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=l0.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Mg(e){var n=ge();return Ug(n,Qt,e)}function Ug(e,n,r){if(n=Qh(e,n,Ng)[0],e=pu(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Do(n)}catch(_){throw _===So?cu:_}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,aa(9,yu(),u0.bind(null,h,r),null)),[o,f,e]}function u0(e,n){e.action=n}function Pg(e){var n=ge(),r=Qt;if(r!==null)return Ug(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function aa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Gh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function yu(){return{destroy:void 0,resource:void 0}}function kg(){return ge().memoizedState}function _u(e,n,r,o){var h=Je();o=o===void 0?null:o,At.flags|=e,h.memoizedState=aa(1|n,yu(),r,o)}function Oo(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&zh(o,Qt.memoizedState.deps)?h.memoizedState=aa(n,f,r,o):(At.flags|=e,h.memoizedState=aa(1|n,f,r,o))}function Lg(e,n){_u(8390656,8,e,n)}function xg(e,n){Oo(2048,8,e,n)}function zg(e,n){return Oo(4,2,e,n)}function Bg(e,n){return Oo(4,4,e,n)}function qg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jg(e,n,r){r=r!=null?r.concat([e]):null,Oo(4,4,qg.bind(null,n,e),r)}function $h(){}function Hg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&zh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Gg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&zh(n,o[1]))return o[0];if(o=e(),fs){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o}function Zh(e,n,r){return r===void 0||(er&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Kp(),At.lanes|=e,lr|=e,r)}function Fg(e,n,r,o){return sn(r,n)?r:ia.current!==null?(e=Zh(e,r,o),sn(e,n)||(Ce=!0),e):(er&42)===0?(Ce=!0,e.memoizedState=r):(e=Kp(),At.lanes|=e,lr|=e,n)}function Qg(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=j.T,E={};j.T=E,tf(e,!1,n,r);try{var b=h(),L=j.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=s0(b,o);No(e,n,H,cn(e))}else No(e,n,o,cn(e))}catch(Q){No(e,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{tt.p=f,j.T=_}}function c0(){}function Jh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=Kg(e).queue;Qg(e,h,n,at,r===null?c0:function(){return Yg(e),r(o)})}function Kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Kg(e).next.queue;No(e,n,{},cn())}function Wh(){return je(Xo)}function Xg(){return ge().memoizedState}function $g(){return ge().memoizedState}function h0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();e=Wi(r);var o=tr(n,e,r);o!==null&&(hn(o,n,r),Ro(o,n,r)),n={cache:Dh()},e.payload=n;return}n=n.return}}function f0(e,n,r){var o=cn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},vu(e)?Jg(n,r):(r=vh(e,n,r,o),r!==null&&(hn(r,e,o),Wg(r,n,o)))}function Zg(e,n,r){var o=cn();No(e,n,r,o)}function No(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(vu(e))Jg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(h.hasEagerState=!0,h.eagerState=E,sn(E,_))return nu(e,n,h,0),Zt===null&&eu(),!1}catch{}finally{}if(r=vh(e,n,h,o),r!==null)return hn(r,e,o),Wg(r,n,o),!0}return!1}function tf(e,n,r,o){if(o={lane:2,revertLane:Mf(),action:o,hasEagerState:!1,eagerState:null,next:null},vu(e)){if(n)throw Error(s(479))}else n=vh(e,r,o,2),n!==null&&hn(n,e,2)}function vu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Jg(e,n){ra=du=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Wg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ja(e,r)}}var Eu={readContext:je,use:gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},tp={readContext:je,use:gu,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Lg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,_u(4194308,4,qg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return _u(4194308,4,e,n)},useInsertionEffect:function(e,n){_u(4,2,e,n)},useMemo:function(e,n){var r=Je();n=n===void 0?null:n;var o=e();if(fs){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Je();if(r!==void 0){var h=r(n);if(fs){nn(!0);try{r(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=f0.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=Yh(e);var n=e.queue,r=Zg.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:$h,useDeferredValue:function(e,n){var r=Je();return Zh(r,e,n)},useTransition:function(){var e=Yh(!1);return e=Qg.bind(null,At,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=Je();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(Ut&124)!==0||Tg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Lg(Sg.bind(null,o,f,e),[e]),o.flags|=2048,aa(9,yu(),Ag.bind(null,o,f,r,n),null),r},useId:function(){var e=Je(),n=Zt.identifierPrefix;if(zt){var r=Si,o=Ai;r=(o&~(1<<32-qe(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=mu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=a0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wh,useFormState:Vg,useActionState:Vg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=tf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:Fh,useCacheRefresh:function(){return Je().memoizedState=h0.bind(null,At)}},ep={readContext:je,use:gu,useCallback:Hg,useContext:je,useEffect:xg,useImperativeHandle:jg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:pu,useRef:kg,useState:function(){return pu(wi)},useDebugValue:$h,useDeferredValue:function(e,n){var r=ge();return Fg(r,Qt.memoizedState,e,n)},useTransition:function(){var e=pu(wi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Wh,useFormState:Mg,useActionState:Mg,useOptimistic:function(e,n){var r=ge();return wg(r,Qt,e,n)},useMemoCache:Fh,useCacheRefresh:$g},d0={readContext:je,use:gu,useCallback:Hg,useContext:je,useEffect:xg,useImperativeHandle:jg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Kh,useRef:kg,useState:function(){return Kh(wi)},useDebugValue:$h,useDeferredValue:function(e,n){var r=ge();return Qt===null?Zh(r,e,n):Fg(r,Qt.memoizedState,e,n)},useTransition:function(){var e=Kh(wi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Wh,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var r=ge();return Qt!==null?wg(r,Qt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:$g},oa=null,Vo=0;function Tu(e){var n=Vo;return Vo+=1,oa===null&&(oa=[]),fg(oa,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Au(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function np(e){var n=e._init;return n(e._payload)}function ip(e){function n(M,D){if(e){var k=M.deletions;k===null?(M.deletions=[D],M.flags|=16):k.push(D)}}function r(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Ti(M,D),M.index=0,M.sibling=null,M}function f(M,D,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<D?(M.flags|=67108866,D):k):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function _(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,k,G){return D===null||D.tag!==6?(D=Th(k,M.mode,G),D.return=M,D):(D=h(D,k),D.return=M,D)}function b(M,D,k,G){var rt=k.type;return rt===Z?H(M,D,k.props.children,G,k.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&np(rt)===D.type)?(D=h(D,k.props),Mo(D,k),D.return=M,D):(D=ru(k.type,k.key,k.props,null,M.mode,G),Mo(D,k),D.return=M,D)}function L(M,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=Ah(k,M.mode,G),D.return=M,D):(D=h(D,k.children||[]),D.return=M,D)}function H(M,D,k,G,rt){return D===null||D.tag!==7?(D=rs(k,M.mode,G,rt),D.return=M,D):(D=h(D,k),D.return=M,D)}function Q(M,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Th(""+D,M.mode,k),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return k=ru(D.type,D.key,D.props,null,M.mode,k),Mo(k,D),k.return=M,k;case F:return D=Ah(D,M.mode,k),D.return=M,D;case S:var G=D._init;return D=G(D._payload),Q(M,D,k)}if(ie(D)||U(D))return D=rs(D,M.mode,k,null),D.return=M,D;if(typeof D.then=="function")return Q(M,Tu(D),k);if(D.$$typeof===ft)return Q(M,lu(M,D),k);Au(M,D)}return null}function z(M,D,k,G){var rt=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return rt!==null?null:E(M,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===rt?b(M,D,k,G):null;case F:return k.key===rt?L(M,D,k,G):null;case S:return rt=k._init,k=rt(k._payload),z(M,D,k,G)}if(ie(k)||U(k))return rt!==null?null:H(M,D,k,G,null);if(typeof k.then=="function")return z(M,D,Tu(k),G);if(k.$$typeof===ft)return z(M,D,lu(M,k),G);Au(M,k)}return null}function B(M,D,k,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(k)||null,E(D,M,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return M=M.get(G.key===null?k:G.key)||null,b(D,M,G,rt);case F:return M=M.get(G.key===null?k:G.key)||null,L(D,M,G,rt);case S:var wt=G._init;return G=wt(G._payload),B(M,D,k,G,rt)}if(ie(G)||U(G))return M=M.get(k)||null,H(D,M,G,rt,null);if(typeof G.then=="function")return B(M,D,k,Tu(G),rt);if(G.$$typeof===ft)return B(M,D,k,lu(D,G),rt);Au(D,G)}return null}function dt(M,D,k,G){for(var rt=null,wt=null,st=D,ht=D=0,Oe=null;st!==null&&ht<k.length;ht++){st.index>ht?(Oe=st,st=null):Oe=st.sibling;var Lt=z(M,st,k[ht],G);if(Lt===null){st===null&&(st=Oe);break}e&&st&&Lt.alternate===null&&n(M,st),D=f(Lt,D,ht),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt,st=Oe}if(ht===k.length)return r(M,st),zt&&as(M,ht),rt;if(st===null){for(;ht<k.length;ht++)st=Q(M,k[ht],G),st!==null&&(D=f(st,D,ht),wt===null?rt=st:wt.sibling=st,wt=st);return zt&&as(M,ht),rt}for(st=o(st);ht<k.length;ht++)Oe=B(st,M,ht,k[ht],G),Oe!==null&&(e&&Oe.alternate!==null&&st.delete(Oe.key===null?ht:Oe.key),D=f(Oe,D,ht),wt===null?rt=Oe:wt.sibling=Oe,wt=Oe);return e&&st.forEach(function(yr){return n(M,yr)}),zt&&as(M,ht),rt}function lt(M,D,k,G){if(k==null)throw Error(s(151));for(var rt=null,wt=null,st=D,ht=D=0,Oe=null,Lt=k.next();st!==null&&!Lt.done;ht++,Lt=k.next()){st.index>ht?(Oe=st,st=null):Oe=st.sibling;var yr=z(M,st,Lt.value,G);if(yr===null){st===null&&(st=Oe);break}e&&st&&yr.alternate===null&&n(M,st),D=f(yr,D,ht),wt===null?rt=yr:wt.sibling=yr,wt=yr,st=Oe}if(Lt.done)return r(M,st),zt&&as(M,ht),rt;if(st===null){for(;!Lt.done;ht++,Lt=k.next())Lt=Q(M,Lt.value,G),Lt!==null&&(D=f(Lt,D,ht),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt);return zt&&as(M,ht),rt}for(st=o(st);!Lt.done;ht++,Lt=k.next())Lt=B(st,M,ht,Lt.value,G),Lt!==null&&(e&&Lt.alternate!==null&&st.delete(Lt.key===null?ht:Lt.key),D=f(Lt,D,ht),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt);return e&&st.forEach(function(mA){return n(M,mA)}),zt&&as(M,ht),rt}function Yt(M,D,k,G){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:t:{for(var rt=k.key;D!==null;){if(D.key===rt){if(rt=k.type,rt===Z){if(D.tag===7){r(M,D.sibling),G=h(D,k.props.children),G.return=M,M=G;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&np(rt)===D.type){r(M,D.sibling),G=h(D,k.props),Mo(G,k),G.return=M,M=G;break t}r(M,D);break}else n(M,D);D=D.sibling}k.type===Z?(G=rs(k.props.children,M.mode,G,k.key),G.return=M,M=G):(G=ru(k.type,k.key,k.props,null,M.mode,G),Mo(G,k),G.return=M,M=G)}return _(M);case F:t:{for(rt=k.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){r(M,D.sibling),G=h(D,k.children||[]),G.return=M,M=G;break t}else{r(M,D);break}else n(M,D);D=D.sibling}G=Ah(k,M.mode,G),G.return=M,M=G}return _(M);case S:return rt=k._init,k=rt(k._payload),Yt(M,D,k,G)}if(ie(k))return dt(M,D,k,G);if(U(k)){if(rt=U(k),typeof rt!="function")throw Error(s(150));return k=rt.call(k),lt(M,D,k,G)}if(typeof k.then=="function")return Yt(M,D,Tu(k),G);if(k.$$typeof===ft)return Yt(M,D,lu(M,k),G);Au(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(r(M,D.sibling),G=h(D,k),G.return=M,M=G):(r(M,D),G=Th(k,M.mode,G),G.return=M,M=G),_(M)):r(M,D)}return function(M,D,k,G){try{Vo=0;var rt=Yt(M,D,k,G);return oa=null,rt}catch(st){if(st===So||st===cu)throw st;var wt=an(29,st,null,M.mode);return wt.lanes=G,wt.return=M,wt}finally{}}}var la=ip(!0),rp=ip(!1),An=Y(null),Zn=null;function nr(e){var n=e.alternate;$(Te,Te.current&1),$(An,e),Zn===null&&(n===null||ia.current!==null||n.memoizedState!==null)&&(Zn=e)}function sp(e){if(e.tag===22){if($(Te,Te.current),$(An,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else ir()}function ir(){$(Te,Te.current),$(An,An.current)}function Ii(e){et(An),Zn===e&&(Zn=null),et(Te)}var Te=Y(0);function Su(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Ff(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ef(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=cn(),h=Wi(o);h.payload=n,r!=null&&(h.callback=r),n=tr(e,h,o),n!==null&&(hn(n,e,o),Ro(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=cn(),h=Wi(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=tr(e,h,o),n!==null&&(hn(n,e,o),Ro(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=cn(),o=Wi(r);o.tag=2,n!=null&&(o.callback=n),n=tr(e,o,r),n!==null&&(hn(n,e,r),Ro(n,e,r))}};function ap(e,n,r,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!go(r,o)||!go(h,f):!0}function op(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&nf.enqueueReplaceState(n,n.state,null)}function ds(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lp(e){bu(e)}function up(e){console.error(e)}function cp(e){bu(e)}function Ru(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(e,n,r){return r=Wi(r),r.tag=3,r.payload={element:null},r.callback=function(){Ru(e,n)},r}function fp(e){return e=Wi(e),e.tag=3,e}function dp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){hp(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){hp(n,r,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function m0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Eo(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 13:return Zn===null?Cf():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Vh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Of(e,o,h)),!1;case 22:return r.flags|=65536,o===Vh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Of(e,o,h)),!1}throw Error(s(435,r.tag))}return Of(e,o,h),Cf(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Rh&&(e=Error(s(422),{cause:o}),vo(_n(e,r)))):(o!==Rh&&(n=Error(s(423),{cause:o}),vo(_n(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=_n(o,r),h=rf(e.stateNode,o,h),Ph(e,h),ae!==4&&(ae=2)),!1;var f=Error(s(520),{cause:o});if(f=_n(f,r),Bo===null?Bo=[f]:Bo.push(f),ae!==4&&(ae=2),n===null)return!0;o=_n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=rf(r.stateNode,o,e),Ph(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=fp(h),dp(h,e,r,o),Ph(r,h),!1}r=r.return}while(r!==null);return!1}var mp=Error(s(461)),Ce=!1;function Pe(e,n,r,o){n.child=e===null?rp(n,null,r,o):la(n,e.child,r,o)}function gp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return cs(n),o=Bh(e,n,r,_,f,h),E=qh(),e!==null&&!Ce?(jh(e,n,h),Ci(e,n,h)):(zt&&E&&Sh(n),n.flags|=1,Pe(e,n,o,h),n.child)}function pp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Eh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,yp(e,n,f,o,h)):(e=ru(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ff(e,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:go,r(_,o)&&e.ref===n.ref)return Ci(e,n,h)}return n.flags|=1,e=Ti(f,o),e.ref=n.ref,e.return=n,n.child=e}function yp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(go(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,ff(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Ci(e,n,h)}return sf(e,n,r,o,h)}function _p(e,n,r){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return vp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&uu(n,f!==null?f.cachePool:null),f!==null?yg(n,f):Lh(),sp(n);else return n.lanes=n.childLanes=536870912,vp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(uu(n,f.cachePool),yg(n,f),ir(),n.memoizedState=null):(e!==null&&uu(n,null),Lh(),ir());return Pe(e,n,h,r),n.child}function vp(e,n,r,o){var h=Nh();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&uu(n,null),Lh(),sp(n),e!==null&&Eo(e,n,o,!0),null}function wu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function sf(e,n,r,o,h){return cs(n),r=Bh(e,n,r,o,void 0,h),o=qh(),e!==null&&!Ce?(jh(e,n,h),Ci(e,n,h)):(zt&&o&&Sh(n),n.flags|=1,Pe(e,n,r,h),n.child)}function Ep(e,n,r,o,h,f){return cs(n),n.updateQueue=null,r=vg(n,o,r,h),_g(e),o=qh(),e!==null&&!Ce?(jh(e,n,f),Ci(e,n,f)):(zt&&o&&Sh(n),n.flags|=1,Pe(e,n,r,f),n.child)}function Tp(e,n,r,o,h){if(cs(n),n.stateNode===null){var f=Js,_=r.contextType;typeof _=="object"&&_!==null&&(f=je(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Mh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?je(_):Js,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(ef(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&nf.enqueueReplaceState(f,f.state,null),Io(n,o,f,h),wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ds(r,E);f.props=b;var L=f.context,H=r.contextType;_=Js,typeof H=="object"&&H!==null&&(_=je(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&op(n,f,o,_),Ji=!1;var z=n.memoizedState;f.state=z,Io(n,o,f,h),wo(),L=n.memoizedState,E||z!==L||Ji?(typeof Q=="function"&&(ef(n,r,Q,o),L=n.memoizedState),(b=Ji||ap(n,r,b,o,z,L,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Uh(e,n),_=n.memoizedProps,H=ds(r,_),f.props=H,Q=n.pendingProps,z=f.context,L=r.contextType,b=Js,typeof L=="object"&&L!==null&&(b=je(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==b)&&op(n,f,o,b),Ji=!1,z=n.memoizedState,f.state=z,Io(n,o,f,h),wo();var B=n.memoizedState;_!==Q||z!==B||Ji||e!==null&&e.dependencies!==null&&ou(e.dependencies)?(typeof E=="function"&&(ef(n,r,E,o),B=n.memoizedState),(H=Ji||ap(n,r,H,o,z,B,b)||e!==null&&e.dependencies!==null&&ou(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=la(n,e.child,null,h),n.child=la(n,null,r,h)):Pe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ci(e,n,h),e}function Ap(e,n,r,o){return _o(),n.flags|=256,Pe(e,n,r,o),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(e){return{baseLanes:e,cachePool:ug()}}function lf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function Sp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?nr(n):ir(),zt){var E=se,b;if(b=E){t:{for(b=E,E=$n;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,se=null,b=!0):b=!1}b||ls(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ff(E)?n.lanes=32:n.lanes=536870912,null;Ii(n)}return E=o.children,o=o.fallback,h?(ir(),h=n.mode,E=Iu({mode:"hidden",children:E},h),o=rs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=of(r),h.childLanes=lf(e,_,r),n.memoizedState=af,o):(nr(n),uf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=cf(e,n,r)):n.memoizedState!==null?(ir(),n.child=e.child,n.flags|=128,n=null):(ir(),h=o.fallback,E=n.mode,o=Iu({mode:"visible",children:o.children},E),h=rs(h,E,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,la(n,e.child,null,r),o=n.child,o.memoizedState=of(r),o.childLanes=lf(e,_,r),n.memoizedState=af,n=h);else if(nr(n),Ff(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(s(419)),o.stack="",o.digest=_,vo({value:o,source:null,stack:null}),n=cf(e,n,r)}else if(Ce||Eo(e,n,r,!1),_=(r&e.childLanes)!==0,Ce||_){if(_=Zt,_!==null&&(o=r&-r,o=(o&42)!==0?1:Gi(o),o=(o&(_.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Zs(e,o),hn(_,e,o),mp;E.data==="$?"||Cf(),n=cf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,se=Mn(E.nextSibling),Ze=n,zt=!0,os=null,$n=!1,e!==null&&(En[Tn++]=Ai,En[Tn++]=Si,En[Tn++]=ss,Ai=e.id,Si=e.overflow,ss=n),n=uf(n,o.children),n.flags|=4096);return n}return h?(ir(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ti(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ti(L,h):(h=rs(h,E,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=of(r):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=ug(),E={baseLanes:E.baseLanes|r,cachePool:b}),h.memoizedState=E,h.childLanes=lf(e,_,r),n.memoizedState=af,o):(nr(n),r=e.child,e=r.sibling,r=Ti(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function uf(e,n){return n=Iu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Iu(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cf(e,n,r){return la(n,e.child,null,r),e=uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function bp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ih(e.return,n,r)}function hf(e,n,r,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=h)}function Rp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,n,o.children,r),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bp(e,r,n);else if(e.tag===19)bp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch($(Te,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Su(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),hf(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Su(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}hf(n,!0,r,null,f);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Eo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ti(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ti(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ou(e)))}function g0(e,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Zi(n,Ee,e.memoizedState.cache),_o();break;case 27:case 5:Hi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Sp(e,n,r):(nr(n),e=Ci(e,n,r),e!==null?e.sibling:null);nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Eo(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Rp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,_p(e,n,r);case 24:Zi(n,Ee,e.memoizedState.cache)}return Ci(e,n,r)}function wp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!ff(e,r)&&(n.flags&128)===0)return Ce=!1,g0(e,n,r);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&ng(n,au,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Eh(o)?(e=ds(o,e),n.tag=1,n=Tp(null,n,o,e,r)):(n.tag=0,n=sf(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===kt){n.tag=11,n=gp(null,n,o,e,r);break t}else if(h===N){n.tag=14,n=pp(null,n,o,e,r);break t}}throw n=Ve(o)||o,Error(s(306,n,""))}}return n;case 0:return sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ds(o,n.pendingProps),Tp(e,n,o,h,r);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Uh(e,n),Io(n,o,null,r);var _=n.memoizedState;if(o=_.cache,Zi(n,Ee,o),o!==f.cache&&Ch(n,[Ee],r,!0),wo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ap(e,n,o,r);break t}else if(o!==h){h=_n(Error(s(424)),n),vo(h),n=Ap(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=Mn(e.firstChild),Ze=n,zt=!0,os=null,$n=!0,r=rp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(_o(),o===h){n=Ci(e,n,r);break t}Pe(e,n,o,r)}n=n.child}return n;case 26:return wu(e,n),e===null?(r=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,o=qu(pt.current).createElement(r),o[ye]=n,o[fe]=e,Le(o,r,e),le(o),n.stateNode=o):n.memoizedState=Oy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&zt&&(o=n.stateNode=Iy(n.type,n.pendingProps,pt.current),Ze=n,$n=!0,h=se,fr(n.type)?(Qf=h,se=Mn(o.firstChild)):se=h),Pe(e,n,n.pendingProps.children,r),wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=se)&&(o=H0(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,Ze=n,se=Mn(o.firstChild),$n=!1,h=!0):h=!1),h||ls(n)),Hi(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,jf(h,f)?o=null:_!==null&&jf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(e,n,o0,null,null,r),Xo._currentValue=h),wu(e,n),Pe(e,n,o,r),n.child;case 6:return e===null&&zt&&((e=r=se)&&(r=G0(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Ze=n,se=null,e=!0):e=!1),e||ls(n)),null;case 13:return Sp(e,n,r);case 4:return $t(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=la(n,null,o,r):Pe(e,n,o,r),n.child;case 11:return gp(e,n,n.type,n.pendingProps,r);case 7:return Pe(e,n,n.pendingProps,r),n.child;case 8:return Pe(e,n,n.pendingProps.children,r),n.child;case 12:return Pe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Zi(n,n.type,o.value),Pe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,cs(n),h=je(h),o=o(h),n.flags|=1,Pe(e,n,o,r),n.child;case 14:return pp(e,n,n.type,n.pendingProps,r);case 15:return yp(e,n,n.type,n.pendingProps,r);case 19:return Rp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=Iu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return _p(e,n,r);case 24:return cs(n),o=je(Ee),e===null?(h=Nh(),h===null&&(h=Zt,f=Dh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Mh(n),Zi(n,Ee,h)):((e.lanes&r)!==0&&(Uh(e,n),Io(n,null,null,r),wo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zi(n,Ee,o)):(o=f.cache,Zi(n,Ee,o),o!==h.cache&&Ch(n,[Ee],r,!0))),Pe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(e){e.flags|=4}function Ip(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Py(n)){if(n=An.current,n!==null&&((Ut&4194048)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw bo=Vh,cg;e.flags|=8192}}function Cu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$a():536870912,e.lanes|=n,fa|=n)}function Uo(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function p0(e,n,r){var o=n.pendingProps;switch(bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ri(Ee),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yo(n)?Di(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sg())),te(n),null;case 26:return r=n.memoizedState,e===null?(Di(n),r!==null?(te(n),Ip(n,r)):(te(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Di(n),te(n),Ip(n,r)):(te(n),n.flags&=-16777217):(e.memoizedProps!==o&&Di(n),te(n),n.flags&=-16777217),null;case 27:li(n),r=pt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}e=ot.current,yo(n)?ig(n):(e=Iy(h,o,r),n.stateNode=e,Di(n))}return te(n),null;case 5:if(li(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(e=ot.current,yo(n))ig(n);else{switch(h=qu(pt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[ye]=n,e[fe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Le(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Di(n)}}return te(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=pt.current,yo(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ey(e.nodeValue,r)),e||ls(n)}else e=qu(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=yo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=n}else _o(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=sg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ii(n),n):(Ii(n),null)}if(Ii(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Cu(n,n.updateQueue),te(n),null;case 4:return xn(),e===null&&Lf(n.stateNode.containerInfo),te(n),null;case 10:return Ri(n.type),te(n),null;case 19:if(et(Te),h=n.memoizedState,h===null)return te(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Uo(h,!1);else{if(ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Su(e),f!==null){for(n.flags|=128,Uo(h,!1),e=f.updateQueue,n.updateQueue=e,Cu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)eg(r,e),r=r.sibling;return $(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&fn()>Nu&&(n.flags|=128,o=!0,Uo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Su(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Cu(n,e),Uo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return te(n),null}else 2*fn()-h.renderingStartTime>Nu&&r!==536870912&&(n.flags|=128,o=!0,Uo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fn(),n.sibling=null,e=Te.current,$(Te,o?e&1|2:e&1),n):(te(n),null);case 22:case 23:return Ii(n),xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Cu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&et(hs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function y0(e,n){switch(bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ri(Ee),xn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(Ii(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_o()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Te),null;case 4:return xn(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ii(n),xh(),e!==null&&et(hs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ri(Ee),null;case 25:return null;default:return null}}function Cp(e,n){switch(bh(n),n.tag){case 3:Ri(Ee),xn();break;case 26:case 27:case 5:li(n);break;case 4:xn();break;case 13:Ii(n);break;case 19:et(Te);break;case 10:Ri(n.type);break;case 22:case 23:Ii(n),xh(),e!==null&&et(hs);break;case 24:Ri(Ee)}}function Po(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function rr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var b=r,L=E;try{L()}catch(H){Xt(h,b,H)}}}o=o.next}while(o!==f)}}catch(H){Xt(n,n.return,H)}}function Dp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{pg(n,r)}catch(o){Xt(e,e.return,o)}}}function Op(e,n,r){r.props=ds(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function ko(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function Jn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function Np(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function df(e,n,r){try{var o=e.stateNode;x0(o,e.type,r,n),o[fe]=n}catch(h){Xt(e,e.return,h)}}function Vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bu));else if(o!==4&&(o===27&&fr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(gf(e,n,r),e=e.sibling;e!==null;)gf(e,n,r),e=e.sibling}function Du(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Du(e,n,r),e=e.sibling;e!==null;)Du(e,n,r),e=e.sibling}function Mp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Le(n,o,r),n[ye]=e,n[fe]=r}catch(f){Xt(e,e.return,f)}}var Oi=!1,ce=!1,pf=!1,Up=typeof WeakSet=="function"?WeakSet:Set,De=null;function _0(e,n){if(e=e.containerInfo,Bf=Ku,e=Fm(e),dh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,b=-1,L=0,H=0,Q=e,z=null;e:for(;;){for(var B;Q!==r||h!==0&&Q.nodeType!==3||(E=_+h),Q!==f||o!==0&&Q.nodeType!==3||(b=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===r&&++L===h&&(E=_),z===f&&++H===o&&(b=_),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:e,selectionRange:r},Ku=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var dt=ds(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(dt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(lt){Xt(r,r.return,lt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Gf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function Pp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:sr(e,r),o&4&&Po(5,r);break;case 1:if(sr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){Xt(r,r.return,_)}else{var h=ds(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(r,r.return,_)}}o&64&&Dp(r),o&512&&ko(r,r.return);break;case 3:if(sr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pg(e,n)}catch(_){Xt(r,r.return,_)}}break;case 27:n===null&&o&4&&Mp(r);case 26:case 5:sr(e,r),n===null&&o&4&&Np(r),o&512&&ko(r,r.return);break;case 12:sr(e,r);break;case 13:sr(e,r),o&4&&xp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=I0.bind(null,r),F0(e,r))));break;case 22:if(o=r.memoizedState!==null||Oi,!o){n=n!==null&&n.memoizedState!==null||ce,h=Oi;var f=ce;Oi=o,(ce=n)&&!f?ar(e,r,(r.subtreeFlags&8772)!==0):sr(e,r),Oi=h,ce=f}break;case 30:break;default:sr(e,r)}}function kp(e){var n=e.alternate;n!==null&&(e.alternate=null,kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ki(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,We=!1;function Ni(e,n,r){for(r=r.child;r!==null;)Lp(e,n,r),r=r.sibling}function Lp(e,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ce||Jn(r,n),Ni(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Jn(r,n);var o=Wt,h=We;fr(r.type)&&(Wt=r.stateNode,We=!1),Ni(e,n,r),Fo(r.stateNode),Wt=o,We=h;break;case 5:ce||Jn(r,n);case 6:if(o=Wt,h=We,Wt=null,Ni(e,n,r),Wt=o,We=h,Wt!==null)if(We)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:Wt!==null&&(We?(e=Wt,Ry(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Wo(e)):Ry(Wt,r.stateNode));break;case 4:o=Wt,h=We,Wt=r.stateNode.containerInfo,We=!0,Ni(e,n,r),Wt=o,We=h;break;case 0:case 11:case 14:case 15:ce||rr(2,r,n),ce||rr(4,r,n),Ni(e,n,r);break;case 1:ce||(Jn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Op(r,n,o)),Ni(e,n,r);break;case 21:Ni(e,n,r);break;case 22:ce=(o=ce)||r.memoizedState!==null,Ni(e,n,r),ce=o;break;default:Ni(e,n,r)}}function xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wo(e)}catch(r){Xt(n,n.return,r)}}function v0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Up),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Up),n;default:throw Error(s(435,e.tag))}}function yf(e,n){var r=v0(e);n.forEach(function(o){var h=C0.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){Wt=E.stateNode,We=!1;break t}break;case 5:Wt=E.stateNode,We=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));Lp(f,_,h),Wt=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zp(n,e),n=n.sibling}var Vn=null;function zp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(rr(3,e,e.return),Po(3,e),rr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Vn;if(on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[jr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,r),f[ye]=e,le(f),o=f;break t;case"link":var _=My("link","href",h).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Le(f,o,r),h.head.appendChild(f);break;case"meta":if(_=My("meta","content",h).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Le(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,le(f),o=f}e.stateNode=o}else Uy(h,e.type,e.stateNode);else e.stateNode=Vy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Uy(h,e.type,e.stateNode):Vy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&df(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),r!==null&&o&4&&df(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(B){Xt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,df(e,h,r!==null?r.memoizedProps:h)),o&1024&&(pf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){Xt(e,e.return,B)}}break;case 3:if(Gu=null,h=Vn,Vn=ju(n.containerInfo),on(n,e),Vn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wo(n.containerInfo)}catch(B){Xt(e,e.return,B)}pf&&(pf=!1,Bp(e));break;case 4:o=Vn,Vn=ju(e.stateNode.containerInfo),on(n,e),ln(e),Vn=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Sf=fn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yf(e,o)));break;case 22:h=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Oi,H=ce;if(Oi=L||h,ce=H||b,on(n,e),ce=H,Oi=L,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||b||Oi||ce||ms(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Xt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Xt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,yf(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yf(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Vp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=mf(e);Du(e,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(mn(_,""),r.flags&=-33);var E=mf(e);Du(e,E,_);break;case 3:case 4:var b=r.stateNode.containerInfo,L=mf(e);gf(e,L,b);break;default:throw Error(s(161))}}catch(H){Xt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Bp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pp(e,n.alternate,n),n=n.sibling}function ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ms(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Op(n,n.return,r),ms(n);break;case 27:Fo(n.stateNode);case 26:case 5:Jn(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}e=e.sibling}}function ar(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,r),Po(4,f);break;case 1:if(ar(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Xt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)gg(b[h],E)}catch(L){Xt(o,o.return,L)}}r&&_&64&&Dp(f),ko(f,f.return);break;case 27:Mp(f);case 26:case 5:ar(h,f,r),r&&o===null&&_&4&&Np(f),ko(f,f.return);break;case 12:ar(h,f,r);break;case 13:ar(h,f,r),r&&_&4&&xp(h,f);break;case 22:f.memoizedState===null&&ar(h,f,r),ko(f,f.return);break;case 30:break;default:ar(h,f,r)}n=n.sibling}}function _f(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&To(r))}function vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&To(e))}function Wn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qp(e,n,r,o),n=n.sibling}function qp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,r,o),h&2048&&Po(9,n);break;case 1:Wn(e,n,r,o);break;case 3:Wn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&To(e)));break;case 12:if(h&2048){Wn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Wn(e,n,r,o);break;case 13:Wn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,r,o):Lo(e,n):f._visibility&2?Wn(e,n,r,o):(f._visibility|=2,ua(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&_f(_,n);break;case 24:Wn(e,n,r,o),h&2048&&vf(n.alternate,n);break;default:Wn(e,n,r,o)}}function ua(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,b=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:ua(f,_,E,b,h),Po(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?ua(f,_,E,b,h):Lo(f,_):(H._visibility|=2,ua(f,_,E,b,h)),h&&L&2048&&_f(_.alternate,_);break;case 24:ua(f,_,E,b,h),h&&L&2048&&vf(_.alternate,_);break;default:ua(f,_,E,b,h)}n=n.sibling}}function Lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Lo(r,o),h&2048&&_f(o.alternate,o);break;case 24:Lo(r,o),h&2048&&vf(o.alternate,o);break;default:Lo(r,o)}n=n.sibling}}var xo=8192;function ca(e){if(e.subtreeFlags&xo)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 26:ca(e),e.flags&xo&&e.memoizedState!==null&&rA(Vn,e.memoizedState,e.memoizedProps);break;case 5:ca(e);break;case 3:case 4:var n=Vn;Vn=ju(e.stateNode.containerInfo),ca(e),Vn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=xo,xo=16777216,ca(e),xo=n):ca(e));break;default:ca(e)}}function Hp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Fp(o,e)}Hp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 0:case 11:case 15:zo(e),e.flags&2048&&rr(9,e,e.return);break;case 3:zo(e);break;case 12:zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ou(e)):zo(e);break;default:zo(e)}}function Ou(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Fp(o,e)}Hp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Ou(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ou(n));break;default:Ou(n)}e=e.sibling}}function Fp(e,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:To(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,De=o;else t:for(r=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(kp(o),o===r){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var E0={getCacheForType:function(e){var n=je(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},T0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,It=null,Ut=0,Gt=0,un=null,or=!1,ha=!1,Ef=!1,Vi=0,ae=0,lr=0,gs=0,Tf=0,Sn=0,fa=0,Bo=null,tn=null,Af=!1,Sf=0,Nu=1/0,Vu=null,ur=null,ke=0,cr=null,da=null,ma=0,bf=0,Rf=null,Qp=null,qo=0,wf=null;function cn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(j.T!==null){var e=ea;return e!==0?e:Mf()}return Fi()}function Kp(){Sn===0&&(Sn=(Ut&536870912)===0||zt?Xa():536870912);var e=An.current;return e!==null&&(e.flags|=32),Sn}function hn(e,n,r){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ga(e,0),hr(e,Ut,Sn,!1)),ci(e,r),((Ht&2)===0||e!==Zt)&&(e===Zt&&((Ht&2)===0&&(gs|=r),ae===4&&hr(e,Ut,Sn,!1)),ti(e))}function Yp(e,n,r){if((Ht&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||qr(e,n),h=o?b0(e,n):Df(e,n,!0),f=o;do{if(h===0){ha&&!o&&hr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!A0(r)){h=Df(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=Bo;var b=E.current.memoizedState.isDehydrated;if(b&&(ga(E,_).flags|=256),_=Df(E,_,!1),_!==2){if(Ef&&!b){E.errorRecoveryDisabledLanes|=f,gs|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ga(e,0),hr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,Sn,!or);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Sf+300-fn(),10<h)){if(hr(o,n,Sn,!or),Vs(o,0,!0)!==0)break t;o.timeoutHandle=Sy(Xp.bind(null,o,r,tn,Vu,Af,n,Sn,gs,fa,or,f,2,-0,0),h);break t}Xp(o,r,tn,Vu,Af,n,Sn,gs,fa,or,f,0,-0,0)}}break}while(!0);ti(e)}function Xp(e,n,r,o,h,f,_,E,b,L,H,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:iA},jp(n),Q=sA(),Q!==null)){e.cancelPendingCommit=Q(ny.bind(null,e,n,f,r,o,h,_,E,b,H,1,z,B)),hr(e,f,_,!L);return}ny(e,n,f,r,o,h,_,E,b)}function A0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(e,n,r,o){n&=~Tf,n&=~gs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&zn(e,r,n)}function Mu(){return(Ht&6)===0?(jo(0),!1):!0}function If(){if(It!==null){if(Gt===0)var e=It.return;else e=It,bi=us=null,Hh(e),oa=null,Vo=0,e=It;for(;e!==null;)Cp(e.alternate,e),e=e.return;It=null}}function ga(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,B0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),If(),Zt=e,It=r=Ti(e.current,null),Ut=n,Gt=0,un=null,or=!1,ha=qr(e,n),Ef=!1,fa=Sn=Tf=gs=lr=ae=0,tn=Bo=null,Af=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),f=1<<h;n|=e[h],o&=~f}return Vi=n,eu(),r}function $p(e,n){At=null,j.H=Eu,n===So||n===cu?(n=dg(),Gt=3):n===cg?(n=dg(),Gt=4):Gt=n===mp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,It===null&&(ae=1,Ru(e,_n(n,e.current)))}function Zp(){var e=j.H;return j.H=Eu,e===null?Eu:e}function Jp(){var e=j.A;return j.A=E0,e}function Cf(){ae=4,or||(Ut&4194048)!==Ut&&An.current!==null||(ha=!0),(lr&134217727)===0&&(gs&134217727)===0||Zt===null||hr(Zt,Ut,Sn,!1)}function Df(e,n,r){var o=Ht;Ht|=2;var h=Zp(),f=Jp();(Zt!==e||Ut!==n)&&(Vu=null,ga(e,n)),n=!1;var _=ae;t:do try{if(Gt!==0&&It!==null){var E=It,b=un;switch(Gt){case 8:If(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var L=Gt;if(Gt=0,un=null,pa(e,E,b,L),r&&ha){_=0;break t}break;default:L=Gt,Gt=0,un=null,pa(e,E,b,L)}}S0(),_=ae;break}catch(H){$p(e,H)}while(!0);return n&&e.shellSuspendCounter++,bi=us=null,Ht=o,j.H=h,j.A=f,It===null&&(Zt=null,Ut=0,eu()),_}function S0(){for(;It!==null;)Wp(It)}function b0(e,n){var r=Ht;Ht|=2;var o=Zp(),h=Jp();Zt!==e||Ut!==n?(Vu=null,Nu=fn()+500,ga(e,n)):ha=qr(e,n);t:do try{if(Gt!==0&&It!==null){n=It;var f=un;e:switch(Gt){case 1:Gt=0,un=null,pa(e,n,f,1);break;case 2:case 9:if(hg(f)){Gt=0,un=null,ty(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),ti(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:hg(f)?(Gt=0,un=null,ty(n)):(Gt=0,un=null,pa(e,n,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var E=It;if(!_||Py(_)){Gt=0,un=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,Uu(L)):It=null}break e}}Gt=0,un=null,pa(e,n,f,5);break;case 6:Gt=0,un=null,pa(e,n,f,6);break;case 8:If(),ae=6;break t;default:throw Error(s(462))}}R0();break}catch(H){$p(e,H)}while(!0);return bi=us=null,j.H=o,j.A=h,Ht=r,It!==null?0:(Zt=null,Ut=0,eu(),ae)}function R0(){for(;It!==null&&!Fa();)Wp(It)}function Wp(e){var n=wp(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,n===null?Uu(e):It=n}function ty(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Ep(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ep(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Hh(n);default:Cp(r,n),n=It=eg(n,Vi),n=wp(r,n,Vi)}e.memoizedProps=e.pendingProps,n===null?Uu(e):It=n}function pa(e,n,r,o){bi=us=null,Hh(n),oa=null,Vo=0;var h=n.return;try{if(m0(e,h,n,r,Ut)){ae=1,Ru(e,_n(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ae=1,Ru(e,_n(r,e.current)),It=null;return}n.flags&32768?(zt||o===1?e=!0:ha||(Ut&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),ey(n,e)):Uu(n)}function Uu(e){var n=e;do{if((n.flags&32768)!==0){ey(n,or);return}e=n.return;var r=p0(n.alternate,n,Vi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ae===0&&(ae=5)}function ey(e,n){do{var r=y0(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ae=6,It=null}function ny(e,n,r,o,h,f,_,E,b){e.cancelPendingCommit=null;do Pu();while(ke!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=_h,Za(e,r,f,_,E,b),e===Zt&&(It=Zt=null,Ut=0),da=n,cr=e,ma=r,bf=f,Rf=h,Qp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D0(Lr,function(){return oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=tt.p,tt.p=2,_=Ht,Ht|=4;try{_0(e,n,r)}finally{Ht=_,tt.p=h,j.T=o}}ke=1,iy(),ry(),sy()}}function iy(){if(ke===1){ke=0;var e=cr,n=da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{zp(n,e);var f=qf,_=Fm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Gm(E.ownerDocument.documentElement,E)){if(b!==null&&dh(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),dt=E.textContent.length,lt=Math.min(b.start,dt),Yt=b.end===void 0?lt:Math.min(b.end,dt);!B.extend&&lt>Yt&&(_=Yt,Yt=lt,lt=_);var M=Hm(E,lt),D=Hm(E,Yt);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=Q.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),lt>Yt?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ku=!!Bf,qf=Bf=null}finally{Ht=h,tt.p=o,j.T=r}}e.current=n,ke=2}}function ry(){if(ke===2){ke=0;var e=cr,n=da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{Pp(e,n.alternate,n)}finally{Ht=h,tt.p=o,j.T=r}}ke=3}}function sy(){if(ke===4||ke===3){ke=0,Ol();var e=cr,n=da,r=ma,o=Qp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,da=cr=null,ay(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ur=null),Ms(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=tt.p,tt.p=2,j.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=h}}(ma&3)!==0&&Pu(),ti(e),h=e.pendingLanes,(r&4194090)!==0&&(h&42)!==0?e===wf?qo++:(qo=0,wf=e):qo=0,jo(0)}}function ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,To(n)))}function Pu(e){return iy(),ry(),sy(),oy()}function oy(){if(ke!==5)return!1;var e=cr,n=bf;bf=0;var r=Ms(ma),o=j.T,h=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Rf,Rf=null;var f=cr,_=ma;if(ke=0,da=cr=null,ma=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Gp(f.current),qp(f,f.current,_,r),Ht=E,jo(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=h,j.T=o,ay(e,n)}}function ly(e,n,r){n=_n(r,n),n=rf(e.stateNode,n,2),e=tr(e,n,2),e!==null&&(ci(e,2),ti(e))}function Xt(e,n,r){if(e.tag===3)ly(e,e,r);else for(;n!==null;){if(n.tag===3){ly(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=_n(r,e),r=fp(2),o=tr(n,r,2),o!==null&&(dp(r,o,n,e),ci(o,2),ti(o));break}}n=n.return}}function Of(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new T0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Ef=!0,h.add(r),e=w0.bind(null,e,n,r),n.then(e,e))}function w0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(Ut&r)===r&&(ae===4||ae===3&&(Ut&62914560)===Ut&&300>fn()-Sf?(Ht&2)===0&&ga(e,0):Tf|=r,fa===Ut&&(fa=0)),ti(e)}function uy(e,n){n===0&&(n=$a()),e=Zs(e,n),e!==null&&(ci(e,n),ti(e))}function I0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),uy(e,r)}function C0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),uy(e,r)}function D0(e,n){return Pr(e,n)}var ku=null,ya=null,Nf=!1,Lu=!1,Vf=!1,ps=0;function ti(e){e!==ya&&e.next===null&&(ya===null?ku=ya=e:ya=ya.next=e),Lu=!0,Nf||(Nf=!0,N0())}function jo(e,n){if(!Vf&&Lu){Vf=!0;do for(var r=!1,o=ku;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,dy(o,f))}else f=Ut,f=Vs(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qr(o,f)||(r=!0,dy(o,f));o=o.next}while(r);Vf=!1}}function O0(){cy()}function cy(){Lu=Nf=!1;var e=0;ps!==0&&(z0()&&(e=ps),ps=0);for(var n=fn(),r=null,o=ku;o!==null;){var h=o.next,f=hy(o,n);f===0?(o.next=null,r===null?ku=h:r.next=h,h===null&&(ya=r)):(r=o,(e!==0||(f&3)!==0)&&(Lu=!0)),o=h}jo(e)}function hy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-qe(f),E=1<<_,b=h[_];b===-1?((E&r)===0||(E&o)!==0)&&(h[_]=Ya(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=Ut,r=Vs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&kr(o),Ms(r)){case 2:case 8:r=Os;break;case 32:r=Lr;break;case 268435456:r=Ns;break;default:r=Lr}return o=fy.bind(null,e),r=Pr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&kr(o),e.callbackPriority=2,e.callbackNode=null,2}function fy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Pu()&&e.callbackNode!==r)return null;var o=Ut;return o=Vs(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yp(e,o,n),hy(e,fn()),e.callbackNode!=null&&e.callbackNode===r?fy.bind(null,e):null)}function dy(e,n){if(Pu())return null;Yp(e,n,!0)}function N0(){q0(function(){(Ht&6)!==0?Pr(Qa,O0):cy()})}function Mf(){return ps===0&&(ps=Xa()),ps}function my(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function gy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function V0(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=my((h[fe]||null).action),_=o.submitter;_&&(n=(n=_[fe]||null)?my(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Bs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ps!==0){var b=_?gy(h,_):new FormData(h);Jh(r,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?gy(h,_):new FormData(h),Jh(r,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Uf=0;Uf<yh.length;Uf++){var Pf=yh[Uf],M0=Pf.toLowerCase(),U0=Pf[0].toUpperCase()+Pf.slice(1);Nn(M0,"on"+U0)}Nn(Ym,"onAnimationEnd"),Nn(Xm,"onAnimationIteration"),Nn($m,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(ZT,"onTransitionRun"),Nn(JT,"onTransitionStart"),Nn(WT,"onTransitionCancel"),Nn(Zm,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function py(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=b}}}}function Ct(e,n){var r=n[Wa];r===void 0&&(r=n[Wa]=new Set);var o=e+"__bubble";r.has(o)||(yy(n,e,2,!1),r.add(o))}function kf(e,n,r){var o=0;n&&(o|=4),yy(r,e,o,n)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Lf(e){if(!e[xu]){e[xu]=!0,to.forEach(function(r){r!=="selectionchange"&&(P0.has(r)||kf(r,!1,e),kf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xu]||(n[xu]=!0,kf("selectionchange",!1,n))}}function yy(e,n,r,o){switch(qy(n)){case 2:var h=lA;break;case 8:h=uA;break;default:h=Zf}r=h.bind(null,n,r,e),h=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function xf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=hi(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}Bl(function(){var L=f,H=gn(r),Q=[];t:{var z=Jm.get(e);if(z!==void 0){var B=Bs,dt=e;switch(e){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":B=Qs;break;case"focusin":dt="focus",B=Hs;break;case"focusout":dt="blur",B=Hs;break;case"beforeblur":case"afterblur":B=Hs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Yl;break;case Ym:case Xm:case $m:B=Gs;break;case Zm:B=$l;break;case"scroll":case"scrollend":B=ql;break;case"wheel":B=Ks;break;case"copy":case"cut":case"paste":B=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=fo;break;case"toggle":case"beforetoggle":B=Jl}var lt=(n&4)!==0,Yt=!lt&&(e==="scroll"||e==="scrollend"),M=lt?z!==null?z+"Capture":null:z;lt=[];for(var D=L,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||M===null||(G=Xr(D,M),G!=null&&lt.push(Go(D,G,k))),Yt)break;D=D.return}0<lt.length&&(z=new B(z,dt,null,r,H),Q.push({event:z,listeners:lt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==gi&&(dt=r.relatedTarget||r.fromElement)&&(hi(dt)||dt[dn]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(dt=r.relatedTarget||r.toElement,B=L,dt=dt?hi(dt):null,dt!==null&&(Yt=c(dt),lt=dt.tag,dt!==Yt||lt!==5&&lt!==27&&lt!==6)&&(dt=null)):(B=null,dt=L),B!==dt)){if(lt=yn,G="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(lt=fo,G="onPointerLeave",M="onPointerEnter",D="pointer"),Yt=B==null?z:qn(B),k=dt==null?z:qn(dt),z=new lt(G,D+"leave",B,r,H),z.target=Yt,z.relatedTarget=k,G=null,hi(H)===L&&(lt=new lt(M,D+"enter",dt,r,H),lt.target=k,lt.relatedTarget=Yt,G=lt),Yt=G,B&&dt)e:{for(lt=B,M=dt,D=0,k=lt;k;k=_a(k))D++;for(k=0,G=M;G;G=_a(G))k++;for(;0<D-k;)lt=_a(lt),D--;for(;0<k-D;)M=_a(M),k--;for(;D--;){if(lt===M||M!==null&&lt===M.alternate)break e;lt=_a(lt),M=_a(M)}lt=null}else lt=null;B!==null&&_y(Q,z,B,lt,!1),dt!==null&&Yt!==null&&_y(Q,Yt,dt,lt,!0)}}t:{if(z=L?qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=Lm;else if(ve(z))if(xm)rt=YT;else{rt=QT;var wt=FT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&so(L.elementType)&&(rt=Lm):rt=KT;if(rt&&(rt=rt(e,L))){Ei(Q,rt,r,H);break t}wt&&wt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Xi(z,"number",z.value)}switch(wt=L?qn(L):window,e){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Ys=wt,mh=L,po=null);break;case"focusout":po=mh=Ys=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Qm(Q,r,H);break;case"selectionchange":if($T)break;case"keydown":case"keyup":Qm(Q,r,H)}var st;if(Yn)t:{switch(e){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?q(e,r)&&(ht="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(y&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=oo()):(Gn=H,$i="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),wt=zu(L,ht),0<wt.length&&(ht=new co(ht,e,null,r,H),Q.push({event:ht,listeners:wt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?_e(e,r):Mt(e,r))&&(ht=zu(L,"onBeforeInput"),0<ht.length&&(wt=new co("onBeforeInput","beforeinput",null,r,H),Q.push({event:wt,listeners:ht}),wt.data=st)),V0(Q,e,L,r,H)}py(Q,n)})}function Go(e,n,r){return{instance:e,listener:n,currentTarget:r}}function zu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xr(e,r),h!=null&&o.unshift(Go(e,h,f)),h=Xr(e,n),h!=null&&o.push(Go(e,h,f))),e.tag===3)return o;e=e.return}return[]}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _y(e,n,r,o,h){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Xr(r,f),L!=null&&_.unshift(Go(r,L,b))):h||(L=Xr(r,f),L!=null&&_.push(Go(r,L,b)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var k0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function vy(e){return(typeof e=="string"?e:""+e).replace(k0,`
`).replace(L0,"")}function Ey(e,n){return n=vy(n),vy(e)===n}function Bu(){}function Kt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":jn(e,"class",o);break;case"tabIndex":jn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(e,r,o);break;case"style":ro(e,o,f);break;case"data":if(n!=="object"){jn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=zs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=zs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bu);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Yi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=oh.get(r)||r,Yi(e,r,o))}}function zf(e,n,r,o,h,f){switch(r){case"style":ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Yi(e,r,o)}}}function Le(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,f,_,r,null)}}h&&Kt(e,n,"srcSet",r.srcSet,r,null),o&&Kt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=_=h=null,b=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":_=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(e,n,o,H,r,null)}}Qr(e,f,E,b,L,_,h,!1),xs(e);return;case"select":Ct("invalid",e),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Kt(e,n,h,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?mi(e,!!o,n,!1):r!=null&&mi(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,n,_,E,r,null)}Kr(e,o,h,f),xs(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,n,b,o,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Ho.length;o++)Ct(Ho[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,L,o,r,null)}return;default:if(so(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&zf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Kt(e,n,E,o,r,null))}function x0(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,b=null,L=null,H=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Kt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Kt(e,n,z,B,o,Q)}}rn(e,_,E,b,L,H,f,h);return;case"select":B=_=E=z=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Kt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=r[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Kt(e,n,h,f,o,b)}n=E,r=_,o=B,z!=null?mi(e,!!r,z,!1):!!o!=!!r&&(n!=null?mi(e,!!r,n,!0):mi(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,n,_,h,o,f)}Ft(e,z,B);return;case"option":for(var dt in r)if(z=r[dt],r.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Kt(e,n,dt,null,o,z)}for(b in o)if(z=o[b],B=r[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&Kt(e,n,lt,null,o,z);for(L in o)if(z=o[L],B=r[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Kt(e,n,L,z,o,B)}return;default:if(so(n)){for(var Yt in r)z=r[Yt],r.hasOwnProperty(Yt)&&z!==void 0&&!o.hasOwnProperty(Yt)&&zf(e,n,Yt,void 0,o,z);for(H in o)z=o[H],B=r[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||zf(e,n,H,z,o,B);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Kt(e,n,M,null,o,z);for(Q in o)z=o[Q],B=r[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Kt(e,n,Q,z,o,B)}var Bf=null,qf=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function Ty(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hf=null;function z0(){var e=window.event;return e&&e.type==="popstate"?e===Hf?!1:(Hf=e,!0):(Hf=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(j0)}:Sy;function j0(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function Ry(e,n){var r=n,o=0,h=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var _=e.ownerDocument;if(r&1&&Fo(_.documentElement),r&2&&Fo(_.body),r&4)for(r=_.head,Fo(r),_=r.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[jr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(h===0){e.removeChild(f),Wo(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);Wo(n)}function Gf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Gf(r),Ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function H0(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[jr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function G0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function F0(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Qf=null;function wy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Iy(e,n,r){switch(n=qu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Fo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ki(e)}var bn=new Map,Cy=new Set;function ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=tt.d;tt.d={f:Q0,r:K0,D:Y0,C:X0,L:$0,m:Z0,X:W0,S:J0,M:tA};function Q0(){var e=Mi.f(),n=Mu();return e||n}function K0(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):Mi.r(e)}var va=typeof document>"u"?null:document;function Dy(e,n,r){var o=va;if(o&&typeof n=="string"&&n){var h=de(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Cy.has(h)||(Cy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Le(n,"link",e),le(n),o.head.appendChild(n)))}}function Y0(e){Mi.D(e),Dy("dns-prefetch",e,null)}function X0(e,n){Mi.C(e,n),Dy("preconnect",e,n)}function $0(e,n,r){Mi.L(e,n,r);var o=va;if(o&&e&&n){var h='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+de(r.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(n){case"style":f=Ea(e);break;case"script":f=Ta(e)}bn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Qo(f))||n==="script"&&o.querySelector(Ko(f))||(n=o.createElement("link"),Le(n,"link",e),le(n),o.head.appendChild(n)))}}function Z0(e,n){Mi.m(e,n);var r=va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ta(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),bn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ko(f)))return}o=r.createElement("link"),Le(o,"link",e),le(o),r.head.appendChild(o)}}}function J0(e,n,r){Mi.S(e,n,r);var o=va;if(o&&e){var h=Ye(o).hoistableStyles,f=Ea(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Qo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=bn.get(f))&&Kf(e,r);var b=_=o.createElement("link");le(b),Le(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Hu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function W0(e,n){Mi.X(e,n);var r=va;if(r&&e){var o=Ye(r).hoistableScripts,h=Ta(e),f=o.get(h);f||(f=r.querySelector(Ko(h)),f||(e=A({src:e,async:!0},n),(n=bn.get(h))&&Yf(e,n),f=r.createElement("script"),le(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tA(e,n){Mi.M(e,n);var r=va;if(r&&e){var o=Ye(r).hoistableScripts,h=Ta(e),f=o.get(h);f||(f=r.querySelector(Ko(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=bn.get(h))&&Yf(e,n),f=r.createElement("script"),le(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Oy(e,n,r,o){var h=(h=pt.current)?ju(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ea(r.href),r=Ye(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ea(r.href);var f=Ye(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Qo(e)))&&!f._p&&(_.instance=f,_.state.loading=5),bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(e,r),f||eA(h,e,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ta(r),r=Ye(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ea(e){return'href="'+de(e)+'"'}function Qo(e){return'link[rel="stylesheet"]['+e+"]"}function Ny(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",r),le(n),e.head.appendChild(n))}function Ta(e){return'[src="'+de(e)+'"]'}function Ko(e){return"script[async]"+e}function Vy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(r.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Le(o,"style",h),Hu(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ea(r.href);var f=e.querySelector(Qo(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=Ny(r),(h=bn.get(h))&&Kf(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Le(f,"link",o),n.state.loading|=4,Hu(f,r.precedence,e),n.instance=f;case"script":return f=Ta(r.src),(h=e.querySelector(Ko(f)))?(n.instance=h,le(h),h):(o=r,(h=bn.get(f))&&(o=A({},r),Yf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Le(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Hu(o,r.precedence,e));return n.instance}function Hu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Gu=null;function My(e,n,r){if(Gu===null){var o=new Map,h=Gu=new Map;h.set(r,o)}else h=Gu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[jr]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Uy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function nA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yo=null;function iA(){}function rA(e,n,r){if(Yo===null)throw Error(s(475));var o=Yo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ea(r.href),f=e.querySelector(Qo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Fu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,r=Ny(r),(h=bn.get(h))&&Kf(r,h),f=f.createElement("link"),le(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Le(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Fu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function sA(){if(Yo===null)throw Error(s(475));var e=Yo;return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qu=null;function Xf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qu=new Map,n.forEach(aA,e),Qu=null,Fu.call(e))}function aA(e,n){if(!(n.state.loading&4)){var r=Qu.get(e);if(r)var o=r.get(null);else{r=new Map,Qu.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=Fu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Xo={$$typeof:ft,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function oA(e,n,r,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ky(e,n,r,o,h,f,_,E,b,L,H,Q){return e=new oA(e,n,r,_,E,b,L,Q),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Dh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Mh(f),e}function Ly(e){return e?(e=Js,e):Js}function xy(e,n,r,o,h,f){h=Ly(h),o.context===null?o.context=h:o.pendingContext=h,o=Wi(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=tr(e,o,n),r!==null&&(hn(r,e,n),Ro(r,e,n))}function zy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function $f(e,n){zy(e,n),(e=e.alternate)&&zy(e,n)}function By(e){if(e.tag===13){var n=Zs(e,67108864);n!==null&&hn(n,e,67108864),$f(e,67108864)}}var Ku=!0;function lA(e,n,r,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=2,Zf(e,n,r,o)}finally{tt.p=f,j.T=h}}function uA(e,n,r,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=8,Zf(e,n,r,o)}finally{tt.p=f,j.T=h}}function Zf(e,n,r,o){if(Ku){var h=Jf(o);if(h===null)xf(e,n,o,Yu,r),jy(e,o);else if(hA(h,e,n,r,o))o.stopPropagation();else if(jy(e,o),n&4&&-1<cA.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Cn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-qe(_);E.entanglements[1]|=b,_&=~b}ti(f),(Ht&6)===0&&(Nu=fn()+500,jo(0))}}break;case 13:E=Zs(f,2),E!==null&&hn(E,f,2),Mu(),$f(f,2)}if(f=Jf(o),f===null&&xf(e,n,o,Yu,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else xf(e,n,o,null,r)}}function Jf(e){return e=gn(e),Wf(e)}var Yu=null;function Wf(e){if(Yu=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Yu=e,null}function qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eh()){case Qa:return 2;case Os:return 8;case Lr:case nh:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var td=!1,dr=null,mr=null,gr=null,$o=new Map,Zo=new Map,pr=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jy(e,n){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(n.pointerId)}}function Jo(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&By(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hA(e,n,r,o,h){switch(n){case"focusin":return dr=Jo(dr,e,n,r,o,h),!0;case"dragenter":return mr=Jo(mr,e,n,r,o,h),!0;case"mouseover":return gr=Jo(gr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return $o.set(f,Jo($o.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Zo.set(f,Jo(Zo.get(f)||null,e,n,r,o,h)),!0}return!1}function Hy(e){var n=hi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ml(e.priority,function(){if(r.tag===13){var o=cn();o=Gi(o);var h=Zs(r,o);h!==null&&hn(h,r,o),$f(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Jf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);gi=o,r.target.dispatchEvent(o),gi=null}else return n=Bn(r),n!==null&&By(n),e.blockedOn=r,!1;n.shift()}return!0}function Gy(e,n,r){Xu(e)&&r.delete(n)}function fA(){td=!1,dr!==null&&Xu(dr)&&(dr=null),mr!==null&&Xu(mr)&&(mr=null),gr!==null&&Xu(gr)&&(gr=null),$o.forEach(Gy),Zo.forEach(Gy)}function $u(e,n){e.blockedOn===n&&(e.blockedOn=null,td||(td=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,fA)))}var Zu=null;function Fy(e){Zu!==e&&(Zu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zu===e&&(Zu=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Wf(o||r)===null)continue;break}var f=Bn(r);f!==null&&(e.splice(n,3),n-=3,Jh(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wo(e){function n(b){return $u(b,e)}dr!==null&&$u(dr,e),mr!==null&&$u(mr,e),gr!==null&&$u(gr,e),$o.forEach(n),Zo.forEach(n);for(var r=0;r<pr.length;r++){var o=pr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&pr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[fe]||null;if(typeof f=="function")_||Fy(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[fe]||null)E=_.formAction;else if(Wf(h)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Fy(r)}}}function ed(e){this._internalRoot=e}Ju.prototype.render=ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=cn();xy(r,o,e,n,null,null)},Ju.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xy(e.current,2,null,e,null,null),Mu(),n[dn]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,e),r===0&&Hy(e)}};var Qy=t.version;if(Qy!=="19.1.0")throw Error(s(527,Qy,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var dA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{re=Wu.inject(dA),jt=Wu}catch{}}return el.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=lp,f=up,_=cp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ky(e,1,!1,null,null,r,o,h,f,_,E,null),e[dn]=n.current,Lf(e),new ed(n)},el.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=lp,_=up,E=cp,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=ky(e,1,!0,n,r??null,o,h,f,_,E,b,L),n.context=Ly(null),r=n.current,o=cn(),o=Gi(o),h=Wi(o),h.callback=null,tr(r,h,o),r=o,n.current.lanes=r,ci(n,r),ti(n),e[dn]=n.current,Lf(e),new Ju(n)},el.version="19.1.0",el}var n_;function SA(){if(n_)return rd.exports;n_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),rd.exports=AA(),rd.exports}var bA=SA();const RA="/DEV-PROJECT/assets/react-CHdo91hT.svg",wA="/DEV-PROJECT/vite.svg",IA=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},CA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,p=l+2<a.length,v=p?a[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let x=(g&15)<<2|v>>6,F=v&63;p||(F=64,d||(x=64)),s.push(i[A],i[C],i[x],i[F])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(wv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):CA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const C=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||v==null||C==null)throw new DA;const x=c<<2|g>>4;if(s.push(x),v!==64){const F=g<<4&240|v>>2;if(s.push(F),C!==64){const Z=v<<6&192|C;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(a){const t=wv(a);return Iv.encodeByteArray(t,!0)},_c=function(a){return OA(a).replace(/\./g,"")},Cv=function(a){try{return Iv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>NA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof i_>"u")return;const a=i_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},UA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Cv(a[1]);return t&&JSON.parse(t)},xc=()=>{try{return IA()||VA()||MA()||UA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Dv=a=>{var t,i;return(i=(t=xc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},PA=a=>{const t=Dv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Ov=()=>{var a;return(a=xc())===null||a===void 0?void 0:a.config},Nv=a=>{var t;return(t=xc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[_c(JSON.stringify(i)),_c(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function zA(){var a;const t=(a=xc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function jA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const a=Ke();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function GA(){return!zA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="FirebaseError";class ji extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=KA,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?YA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ji(l,g,s)}}function YA(a,t){return a.replace(XA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const XA=/\{\$([^}]+)}/g;function $A(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ts(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(r_(c)&&r_(d)){if(!Ts(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function r_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ZA(a,t){const i=new JA(a,t);return i.subscribe.bind(i)}class JA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");WA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=ld),l.error===void 0&&(l.error=ld),l.complete===void 0&&(l.complete=ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(a){return a&&a._delegate?a._delegate:a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(a){return a.endsWith(".cloudworkstations.dev")}async function Vv(a){return(await fetch(a,{credentials:"include"})).ok}class As{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new kA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nS(t))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ys){return this.instances.has(t)}getOptions(t=ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ys){return this.component?this.component.multipleInstances?t:ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(a){return a===ys?void 0:a}function nS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new tS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const rS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},sS=Dt.INFO,aS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},oS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=aS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fd{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const lS=(a,t)=>t.some(i=>a instanceof i);let s_,a_;function uS(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Ed=new WeakMap,Uv=new WeakMap,ud=new WeakMap,Qd=new WeakMap;function hS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Sr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Mv.set(i,a)}).catch(()=>{}),Qd.set(t,a),t}function fS(a){if(Ed.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Ed.set(a,t)}let Td={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ed.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Uv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function dS(a){Td=a(Td)}function mS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(cd(this),t,...i);return Uv.set(s,t.sort?t.sort():[t]),Sr(s)}:cS().includes(a)?function(...t){return a.apply(cd(this),t),Sr(Mv.get(this))}:function(...t){return Sr(a.apply(cd(this),t))}}function gS(a){return typeof a=="function"?mS(a):(a instanceof IDBTransaction&&fS(a),lS(a,uS())?new Proxy(a,Td):a)}function Sr(a){if(a instanceof IDBRequest)return hS(a);if(ud.has(a))return ud.get(a);const t=gS(a);return t!==a&&(ud.set(a,t),Qd.set(t,a)),t}const cd=a=>Qd.get(a);function pS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Sr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Sr(d.result),p.oldVersion,p.newVersion,Sr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const yS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],hd=new Map;function o_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=_S.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||yS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return hd.set(t,c),c}dS(a=>({...a,get:(t,i,s)=>o_(t,i)||a.get(t,i,s),has:(t,i)=>!!o_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ES(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ES(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ad="@firebase/app",l_="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Fd("@firebase/app"),TS="@firebase/app-compat",AS="@firebase/analytics-compat",SS="@firebase/analytics",bS="@firebase/app-check-compat",RS="@firebase/app-check",wS="@firebase/auth",IS="@firebase/auth-compat",CS="@firebase/database",DS="@firebase/data-connect",OS="@firebase/database-compat",NS="@firebase/functions",VS="@firebase/functions-compat",MS="@firebase/installations",US="@firebase/installations-compat",PS="@firebase/messaging",kS="@firebase/messaging-compat",LS="@firebase/performance",xS="@firebase/performance-compat",zS="@firebase/remote-config",BS="@firebase/remote-config-compat",qS="@firebase/storage",jS="@firebase/storage-compat",HS="@firebase/firestore",GS="@firebase/vertexai",FS="@firebase/firestore-compat",QS="firebase",KS="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",YS={[Ad]:"fire-core",[TS]:"fire-core-compat",[SS]:"fire-analytics",[AS]:"fire-analytics-compat",[RS]:"fire-app-check",[bS]:"fire-app-check-compat",[wS]:"fire-auth",[IS]:"fire-auth-compat",[CS]:"fire-rtdb",[DS]:"fire-data-connect",[OS]:"fire-rtdb-compat",[NS]:"fire-fn",[VS]:"fire-fn-compat",[MS]:"fire-iid",[US]:"fire-iid-compat",[PS]:"fire-fcm",[kS]:"fire-fcm-compat",[LS]:"fire-perf",[xS]:"fire-perf-compat",[zS]:"fire-rc",[BS]:"fire-rc-compat",[qS]:"fire-gcs",[jS]:"fire-gcs-compat",[HS]:"fire-fst",[FS]:"fire-fst-compat",[GS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,XS=new Map,bd=new Map;function u_(a,t){try{a.container.addComponent(t)}catch(i){xi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Oa(a){const t=a.name;if(bd.has(t))return xi.debug(`There were multiple attempts to register component ${t}.`),!1;bd.set(t,a);for(const i of vc.values())u_(i,a);for(const i of XS.values())u_(i,a);return!0}function Kd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Un(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Tl("app","Firebase",$S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=KS;function Pv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Sd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=Ov()),!i)throw br.create("no-options");const c=vc.get(l);if(c){if(Ts(i,c.options)&&Ts(s,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new iS(l);for(const p of bd.values())d.addComponent(p);const g=new ZS(i,s,d);return vc.set(l,g),g}function kv(a=Sd){const t=vc.get(a);if(!t&&a===Sd&&Ov())return Pv();if(!t)throw br.create("no-app",{appName:a});return t}function Rr(a,t,i){var s;let l=(s=YS[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Oa(new As(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebase-heartbeat-database",WS=1,hl="firebase-heartbeat-store";let fd=null;function Lv(){return fd||(fd=pS(JS,WS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(hl)}catch(i){console.warn(i)}}}}).catch(a=>{throw br.create("idb-open",{originalErrorMessage:a.message})})),fd}async function tb(a){try{const i=(await Lv()).transaction(hl),s=await i.objectStore(hl).get(xv(a));return await i.done,s}catch(t){if(t instanceof ji)xi.warn(t.message);else{const i=br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}async function c_(a,t){try{const s=(await Lv()).transaction(hl,"readwrite");await s.objectStore(hl).put(t,xv(a)),await s.done}catch(i){if(i instanceof ji)xi.warn(i.message);else{const s=br.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function xv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1024,nb=30;class ib{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=h_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>nb){const d=ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=h_(),{heartbeatsToSend:s,unsentEntries:l}=rb(this._heartbeatsCache.heartbeats),c=_c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return xi.warn(i),""}}}function h_(){return new Date().toISOString().substring(0,10)}function rb(a,t=eb){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),f_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),f_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class sb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return c_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return c_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function f_(a){return _c(JSON.stringify({version:2,heartbeats:a})).length}function ab(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(a){Oa(new As("platform-logger",t=>new vS(t),"PRIVATE")),Oa(new As("heartbeat",t=>new ib(t),"PRIVATE")),Rr(Ad,l_,a),Rr(Ad,l_,"esm2017"),Rr("fire-js","")}ob("");var lb="firebase",ub="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(lb,ub,"app");function Yd(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cb=zv,Bv=new Tl("auth","Firebase",zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Fd("@firebase/auth");function hb(a,...t){Ec.logLevel<=Dt.WARN&&Ec.warn(`Auth (${za}): ${a}`,...t)}function uc(a,...t){Ec.logLevel<=Dt.ERROR&&Ec.error(`Auth (${za}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(a,...t){throw $d(a,...t)}function Ln(a,...t){return $d(a,...t)}function Xd(a,t,i){const s=Object.assign(Object.assign({},cb()),{[t]:i});return new Tl("auth","Firebase",s).create(t,{appName:a.name})}function Es(a){return Xd(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fb(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&si(a,"argument-error"),Xd(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $d(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return Bv.create(a,...t)}function gt(a,t,...i){if(!a)throw $d(t,...i)}function Pi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw uc(t),new Error(t)}function zi(a,t){a||Pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function db(){return d_()==="http:"||d_()==="https:"}function d_(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(db()||qA()||"connection"in navigator)?navigator.onLine:!0}function gb(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(t,i){this.shortDelay=t,this.longDelay=i,zi(i>t,"Short delay should be less than long delay!"),this.isMobile=xA()||jA()}get(){return mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(a,t){zi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_b=new Sl(3e4,6e4);function Jd(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function Ba(a,t,i,s,l={}){return jv(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Al(Object.assign({key:a.config.apiKey},d)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:p},c);return BA()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&zc(a.emulatorConfig.host)&&(v.credentials="include"),qv.fetch()(await Hv(a,a.config.apiHost,i,g),v)})}async function jv(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},pb),t);try{const l=new Eb(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw tc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw tc(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw tc(a,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Xd(a,A,v);si(a,A)}}catch(l){if(l instanceof ji)throw l;si(a,"network-request-failed",{message:String(l)})}}async function vb(a,t,i,s,l={}){const c=await Ba(a,t,i,s,l);return"mfaPendingCredential"in c&&si(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?Zd(a.config,l):`${a.config.apiScheme}://${l}`;return yb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Eb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),_b.get())})}}function tc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ln(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(a,t){return Ba(a,"POST","/v1/accounts:delete",t)}async function Tc(a,t){return Ba(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ab(a,t=!1){const i=In(a),s=await i.getIdToken(t),l=Wd(s);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:al(dd(l.auth_time)),issuedAtTime:al(dd(l.iat)),expirationTime:al(dd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function dd(a){return Number(a)*1e3}function Wd(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Cv(i);return l?JSON.parse(l):(uc("Failed to decode base64 JWT payload"),null)}catch(l){return uc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function m_(a){const t=Wd(a);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ji&&Sb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function Sb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(a){var t;const i=a.auth,s=await a.getIdToken(),l=await fl(a,Tc(i,{idToken:s}));gt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];a._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Gv(c.providerUserInfo):[],g=wb(a.providerData,d),p=a.isAnonymous,v=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new wd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(a,C)}async function Rb(a){const t=In(a);await Ac(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Gv(a){return a.map(t=>{var{providerId:i}=t,s=Yd(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(a,t){const i=await jv(a,{},async()=>{const s=Al({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await Hv(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",qv.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Cb(a,t){return Ba(a,"POST","/v2/accounts:revokeToken",Jd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=m_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Ib(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new wa;return s&&(gt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(a,t){gt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Pn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=Yd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new wd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await fl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ab(this,t)}reload(){return Rb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Pn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Ac(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await fl(this,Tb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,g,p,v,A;const C=(s=i.displayName)!==null&&s!==void 0?s:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,J=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,bt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,yt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ft,emailVerified:kt,isAnonymous:_t,providerData:Nt,stsTokenManager:N}=i;gt(ft&&N,t,"internal-error");const S=wa.fromJSON(this.name,N);gt(typeof ft=="string",t,"internal-error"),_r(C,t.name),_r(x,t.name),gt(typeof kt=="boolean",t,"internal-error"),gt(typeof _t=="boolean",t,"internal-error"),_r(F,t.name),_r(Z,t.name),_r(nt,t.name),_r(J,t.name),_r(bt,t.name),_r(yt,t.name);const R=new Pn({uid:ft,auth:t,email:x,emailVerified:kt,displayName:C,isAnonymous:_t,photoURL:Z,phoneNumber:F,tenantId:nt,stsTokenManager:S,createdAt:bt,lastLoginAt:yt});return Nt&&Array.isArray(Nt)&&(R.providerData=Nt.map(O=>Object.assign({},O))),J&&(R._redirectEventId=J),R}static async _fromIdTokenResponse(t,i,s=!1){const l=new wa;l.updateFromServerResponse(i);const c=new Pn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Ac(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new wa;g.updateFromIdToken(s);const p=new Pn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function ki(a){zi(a instanceof Function,"Expected a class definition");let t=g_.get(a);return t?(zi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,g_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Fv.type="NONE";const p_=Fv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ia{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=cc(this.userKey,l.apiKey,c),this.fullPersistenceKey=cc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Tc(this.auth,{idToken:t}).catch(()=>{});return i?Pn._fromGetAccountInfoResponse(this.auth,i,t):null}return Pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ia(ki(p_),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ki(p_);const d=cc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let C;if(typeof A=="string"){const x=await Tc(t,{idToken:A}).catch(()=>{});if(!x)break;C=await Pn._fromGetAccountInfoResponse(t,x,A)}else C=Pn._fromJSON(t,A);v!==c&&(g=C),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ia(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ia(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zv(t))return"Blackberry";if(Jv(t))return"Webos";if(Kv(t))return"Safari";if((t.includes("chrome/")||Yv(t))&&!t.includes("edge/"))return"Chrome";if($v(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Qv(a=Ke()){return/firefox\//i.test(a)}function Kv(a=Ke()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yv(a=Ke()){return/crios\//i.test(a)}function Xv(a=Ke()){return/iemobile/i.test(a)}function $v(a=Ke()){return/android/i.test(a)}function Zv(a=Ke()){return/blackberry/i.test(a)}function Jv(a=Ke()){return/webos/i.test(a)}function tm(a=Ke()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Db(a=Ke()){var t;return tm(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ob(){return HA()&&document.documentMode===10}function Wv(a=Ke()){return tm(a)||$v(a)||Jv(a)||Zv(a)||/windows phone/i.test(a)||Xv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(a,t=[]){let i;switch(a){case"Browser":i=y_(Ke());break;case"Worker":i=`${y_(Ke())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(a,t={}){return Ba(a,"GET","/v2/passwordPolicy",Jd(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=6;class Ub{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:Mb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ki(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Tc(this,{idToken:t}),s=await Pn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Un(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Ac(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Es(this));const i=t?In(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Vb(this),i=new Ub(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Cb(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ki(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&hb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Bc(a){return In(a)}class __{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kb(a){em=a}function Lb(a){return em.loadJS(a)}function xb(){return em.gapiScript}function zb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(a,t){const i=Kd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ts(c,t??{}))return l;si(l,"already-initialized")}return i.initialize({options:t})}function qb(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(ki);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function jb(a,t,i){const s=Bc(a);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=eE(t),{host:d,port:g}=Hb(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Ts(v,s.config.emulator)&&Ts(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Gb(),zc(d)&&Vv(`${c}//${d}${p}`)}function eE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Hb(a){const t=eE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:v_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:v_(d)}}}function v_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Gb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Pi("not implemented")}_getIdTokenResponse(t){return Pi("not implemented")}_linkToIdToken(t,i){return Pi("not implemented")}_getReauthenticationResolver(t){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(a,t){return vb(a,"POST","/v1/accounts:signInWithIdp",Jd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="http://localhost";class Ss extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ss(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):si("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=Yd(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ss(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ca(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ca(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ca(t,i)}buildRequest(){const t={requestUri:Fb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Al(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends nm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends bl{constructor(){super("facebook.com")}static credential(t){return Ss._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ss._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Ui.credential(i,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends bl{constructor(){super("github.com")}static credential(t){return Ss._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends bl{constructor(){super("twitter.com")}static credential(t,i){return Ss._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Tr.credential(i,s)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Pn._fromIdTokenResponse(t,s,l),d=E_(s);return new Na({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=E_(s);return new Na({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function E_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends ji{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Sc(t,i,s,l)}}function iE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(a,c,t,s):c})}async function Qb(a,t,i=!1){const s=await fl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Na._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(a,t,i=!1){const{auth:s}=a;if(Un(s.app))return Promise.reject(Es(s));const l="reauthenticate";try{const c=await fl(a,iE(s,l,t,a),i);gt(c.idToken,s,"internal-error");const d=Wd(c.idToken);gt(d,s,"internal-error");const{sub:g}=d;return gt(a.uid===g,s,"user-mismatch"),Na._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&si(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(a,t,i=!1){if(Un(a.app))return Promise.reject(Es(a));const s="signIn",l=await iE(a,s,t),c=await Na._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function Xb(a,t,i,s){return In(a).onIdTokenChanged(t,i,s)}function $b(a,t,i){return In(a).beforeAuthStateChanged(t,i)}function Zb(a,t,i,s){return In(a).onAuthStateChanged(t,i,s)}function Jb(a){return In(a).signOut()}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1e3,tR=10;class sE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Ob()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,tR):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sE.type="LOCAL";const eR=sE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const oE=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new qc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await nR(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=im("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const x=C;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function rR(a){ni().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function sR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function oR(){return lE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebaseLocalStorageDb",lR=1,Rc="firebaseLocalStorage",cE="fbase_key";class Rl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function jc(a,t){return a.transaction([Rc],t?"readwrite":"readonly").objectStore(Rc)}function uR(){const a=indexedDB.deleteDatabase(uE);return new Rl(a).toPromise()}function Id(){const a=indexedDB.open(uE,lR);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Rc,{keyPath:cE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Rc)?t(s):(s.close(),await uR(),t(await Id()))})})}async function T_(a,t,i){const s=jc(a,!0).put({[cE]:t,value:i});return new Rl(s).toPromise()}async function cR(a,t){const i=jc(a,!1).get(t),s=await new Rl(i).toPromise();return s===void 0?null:s.value}function A_(a,t){const i=jc(a,!0).delete(t);return new Rl(i).toPromise()}const hR=800,fR=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Id(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>fR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(oR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Id();return await T_(t,bc,"1"),await A_(t,bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>T_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>cR(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=jc(l,!1).getAll();return new Rl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const dR=hE;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(a,t){return t?ki(t):(gt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends nE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ca(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ca(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ca(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function mR(a){return Yb(a.auth,new rm(a),a.bypassAuthState)}function gR(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),Kb(i,new rm(a),a.bypassAuthState)}async function pR(a){const{auth:t,user:i}=a;return gt(i,t,"internal-error"),Qb(i,new rm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return gR;default:si(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Sl(2e3,1e4);async function _R(a,t,i){if(Un(a.app))return Promise.reject(Ln(a,"operation-not-supported-in-this-environment"));const s=Bc(a);fb(a,t,nm);const l=fE(s,i);return new _s(s,"signInViaPopup",t,l).executeNotNull()}class _s extends dE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yR.get())};t()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="pendingRedirect",hc=new Map;class ER extends dE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=hc.get(this.auth._key());if(!t){try{const s=await TR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}hc.set(this.auth._key(),t)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TR(a,t){const i=bR(t),s=SR(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function AR(a,t){hc.set(a._key(),t)}function SR(a){return ki(a._redirectPersistence)}function bR(a){return cc(vR,a.config.apiKey,a.name)}async function RR(a,t,i=!1){if(Un(a.app))return Promise.reject(Es(a));const s=Bc(a),l=fE(s,t),d=await new ER(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=10*60*1e3;class IR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!mE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Ln(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wR&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(t))}saveEventToCache(t){this.cachedEventUids.add(S_(t)),this.lastProcessedEventTime=Date.now()}}function S_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function mE({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function CR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(a,t={}){return Ba(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function VR(a){if(a.config.emulator)return;const{authorizedDomains:t}=await DR(a);for(const i of t)try{if(MR(i))return}catch{}si(a,"unauthorized-domain")}function MR(a){const t=Rd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!NR.test(i))return!1;if(OR.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Sl(3e4,6e4);function b_(){const a=ni().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function PR(a){return new Promise((t,i)=>{var s,l,c;function d(){b_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(Ln(a,"network-request-failed"))},timeout:UR.get()})}if(!((l=(s=ni().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ni().gapi)===null||c===void 0)&&c.load)d();else{const g=zb("iframefcb");return ni()[g]=()=>{gapi.load?d():i(Ln(a,"network-request-failed"))},Lb(`${xb()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw fc=null,t})}let fc=null;function kR(a){return fc=fc||PR(a),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Sl(5e3,15e3),xR="__/auth/iframe",zR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(a){const t=a.config;gt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Zd(t,zR):`https://${a.config.authDomain}/${xR}`,s={apiKey:t.apiKey,appName:a.name,v:za},l=qR.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Al(s).slice(1)}`}async function HR(a){const t=await kR(a),i=ni().gapi;return gt(i,a,"internal-error"),t.open({where:document.body,url:jR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ln(a,"network-request-failed"),g=ni().setTimeout(()=>{c(d)},LR.get());function p(){ni().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FR=500,QR=600,KR="_blank",YR="http://localhost";class R_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XR(a,t,i,s=FR,l=QR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},GR),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();i&&(g=Yv(v)?KR:i),Qv(v)&&(t=t||YR,p.scrollbars="yes");const A=Object.entries(p).reduce((x,[F,Z])=>`${x}${F}=${Z},`,"");if(Db(v)&&g!=="_self")return $R(t||"",g),new R_(null);const C=window.open(t||"",g,A);gt(C,a,"popup-blocked");try{C.focus()}catch{}return new R_(C)}function $R(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",JR="emulator/auth/handler",WR=encodeURIComponent("fac");async function w_(a,t,i,s,l,c){gt(a.config.authDomain,a,"auth-domain-config-required"),gt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:za,eventId:l};if(t instanceof nm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",$A(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof bl){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await a._getAppCheckToken(),v=p?`#${WR}=${encodeURIComponent(p)}`:"";return`${tw(a)}?${Al(g).slice(1)}${v}`}function tw({config:a}){return a.emulator?Zd(a,JR):`https://${a.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="webStorageSupport";class ew{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=RR,this._overrideRedirectResult=AR}async _openPopup(t,i,s,l){var c;zi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await w_(t,i,s,Rd(),l);return XR(t,d,im())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await w_(t,i,s,Rd(),l);return rR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(zi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await HR(t),s=new IR(t);return i.register("authEvent",l=>(gt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(md,{type:md},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[md];d!==void 0&&i(!!d),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=VR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Wv()||Kv()||tm()}}const nw=ew;var I_="@firebase/auth",C_="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sw(a){Oa(new As("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(a)},v=new Pb(s,l,c,p);return qb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Oa(new As("auth-internal",t=>{const i=Bc(t.getProvider("auth").getImmediate());return(s=>new iw(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(I_,C_,rw(a)),Rr(I_,C_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=5*60,ow=Nv("authIdTokenMaxAge")||aw;let D_=null;const lw=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>ow)return;const l=i==null?void 0:i.token;D_!==l&&(D_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function uw(a=kv()){const t=Kd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Bb(a,{popupRedirectResolver:nw,persistence:[dR,eR,oE]}),s=Nv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=lw(c.toString());$b(i,d,()=>d(i.currentUser)),Xb(i,g=>d(g))}}const l=Dv("auth");return l&&jb(i,`http://${l}`),i}function cw(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}kb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Ln("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",cw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sw("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,gE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,V,U){for(var w=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)w[Ve-2]=arguments[Ve];return S.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],V=N.g[2];var U=N.g[3],w=S+(U^R&(V^U))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[3]+3250441966&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(U^R&(V^U))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[7]+4249261313&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(U^R&(V^U))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[11]+2304563134&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(U^R&(V^U))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[15]+1236535329&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(V^U&(R^V))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[0]+3921069994&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(R^V))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[4]+3889429448&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(R^V))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[8]+1163531501&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(R^V))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[12]+2368359562&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(R^V^U)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[14]+4259657740&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^U)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[10]+3200236656&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^U)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[6]+76029189&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^U)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[2]+3299628645&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(V^(R|~U))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[5]+4237533241&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~U))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[1]+2240044497&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~U))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[13]+1309151649&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~U))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=R;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[V++]=N.charCodeAt(U++),V==this.blockSize){l(this,O),V=0;break}}else for(;U<S;)if(O[V++]=N[U++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function c(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],O=!0,V=N.length-1;0<=V;V--){var U=N[V]|0;O&&U==S||(R[V]=U,O=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return C;if(0>N)return J(v(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=C,V=0;V<N.length;V+=8){var U=Math.min(8,N.length-V),w=parseInt(N.substring(V,V+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(w))):(O=O.j(R),O=O.add(v(w)))}return O}var C=p(0),x=p(1),F=p(16777216);a=d.prototype,a.m=function(){if(nt(this))return-J(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(N);for(var S=v(Math.pow(N,6)),R=this,O="";;){var V=kt(R,S).g;R=bt(R,V.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=V,Z(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}a.l=function(N){return N=bt(this,N),nt(N)?-1:Z(N)?0:1};function J(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new d(R,~N.h).add(x)}a.abs=function(){return nt(this)?J(this):this},a.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,V=0;V<=S;V++){var U=O+(this.i(V)&65535)+(N.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=w>>>16,U&=65535,w&=65535,R[V]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function bt(N,S){return N.add(J(S))}a.j=function(N){if(Z(this)||Z(N))return C;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(0>this.l(F)&&0>N.l(F))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var U=this.i(O)>>>16,w=this.i(O)&65535,Ve=N.i(V)>>>16,ie=N.i(V)&65535;R[2*O+2*V]+=w*ie,yt(R,2*O+2*V),R[2*O+2*V+1]+=U*ie,yt(R,2*O+2*V+1),R[2*O+2*V+1]+=w*Ve,yt(R,2*O+2*V+1),R[2*O+2*V+2]+=U*Ve,yt(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function yt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function kt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ft(C,C);if(nt(N))return S=kt(J(N),S),new ft(J(S.g),J(S.h));if(nt(S))return S=kt(N,J(S)),new ft(J(S.g),S.h);if(30<N.g.length){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=S;0>=O.l(N);)R=_t(R),O=_t(O);var V=Nt(R,1),U=Nt(O,1);for(O=Nt(O,2),R=Nt(R,2);!Z(O);){var w=U.add(O);0>=w.l(N)&&(V=V.add(R),U=w),O=Nt(O,1),R=Nt(R,1)}return S=bt(N,V.j(S)),new ft(V,S)}for(V=C;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(R),w=U.j(S);nt(w)||0<w.l(N);)R-=O,U=v(R),w=U.j(S);Z(U)&&(U=x),V=V.add(U),N=bt(N,w)}return new ft(V,N)}a.A=function(N){return kt(this,N).h},a.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},a.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},a.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function _t(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function Nt(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,V=[],U=0;U<O;U++)V[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new d(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,wr=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pE,il,yE,dc,Cd,_E,vE,EE;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in y))break t;y=y[P]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,P={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function C(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function x(u,m,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,x.apply(null,arguments)}function F(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[P].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let W=0;W<q;W++)u[P+W]=T[W]}else u.push(T)}}class bt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function yt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function kt(u){return kt[" "](u),u}kt[" "]=function(){};var _t=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Nt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function N(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(y in T)u[y]=T[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=xt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,y){const T=ie.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new bt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,xt=new Ve,I=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){U(y)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{kt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,$);var pt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),$t=0;function xn(u,m,y,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=P,this.key=++$t,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,y,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Pr(u,m,T,P);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new xn(m,this.src,q,!!T,P),m.fa=y,u.push(m)),m};function Ur(u,m){var y=m.type;if(y in u.g){var T=u.g[y],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&(Hi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Pr(u,m,y,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return P}return-1}var kr="closure_lm_"+(1e6*Math.random()|0),Fa={};function Ol(u,m,y,T,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ol(u,m[q],y,T,P);return null}return y=Nl(y),u&&u[Re]?u.K(m,y,v(T)?!!T.capture:!1,P):fn(u,m,y,!1,T,P)}function fn(u,m,y,T,P,q){if(!m)throw Error("Invalid event type");var W=v(P)?!!P.capture:!!P,Vt=Ns(u);if(Vt||(u[kr]=Vt=new li(u)),y=Vt.add(m,y,T,W,q),y.proxy)return y;if(T=eh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ot||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function eh(){function u(y){return m.call(u.src,u.listener,y)}const m=nh;return u}function Qa(u,m,y,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qa(u,m[q],y,T,P);else T=v(T)?!!T.capture:!!T,y=Nl(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Pr(q,y,T,P),-1<y&&(Hi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pr(m,y,T,P)),(y=-1<u?m[u]:null)&&Os(y))}function Os(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Ur(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Lr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ns(m))?(Ur(y,u),y.h==0&&(y.src=null,m[kr]=null)):Hi(u)}}}function Lr(u){return u in Fa?Fa[u]:Fa[u]="on"+u}function nh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Os(u),u=y.call(T,m)}return u}function Ns(u){return u=u[kr],u instanceof li?u:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nl(u){return typeof u=="function"?u:(u[Ka]||(u[Ka]=function(m){return u.handleEvent(m)}),u[Ka])}function re(){et.call(this),this.i=new li(this),this.M=this,this.F=null}Z(re,et),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,m,y,T){Qa(this,u,m,y,T)};function jt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var P=m;m=new $(T,u),O(m,P)}if(P=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];P=nn(W,T,!0,m)&&P}if(W=m.g=u,P=nn(W,T,!0,m)&&P,P=nn(W,T,!1,m)&&P,y)for(q=0;q<y.length;q++)W=m.g=y[q],P=nn(W,T,!1,m)&&P}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Hi(y[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},re.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var Vt=W.listener,_e=W.ha||W.src;W.fa&&Ur(u.i,W),P=Vt.call(_e,T)!==!1&&P}}return P&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=x(u,y));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Vl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Vl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ih extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){et.call(this),this.h=u,this.g={}}Z(xr,et);var zr=[];function Br(u){Nt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Os(m)},u),u.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Br(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Vs=g.JSON.parse,qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ya(){}Ya.prototype.h=null;function Xa(u){return u.h||(u.h=u.i())}function $a(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){$.call(this,"d")}Z(ci,$);function Za(){$.call(this,"c")}Z(Za,$);var zn={},Ja=null;function Gi(){return Ja=Ja||new re}zn.La="serverreachability";function Ms(u){$.call(this,zn.La,u)}Z(Ms,$);function Fi(u){const m=Gi();jt(m,new Ms(m))}zn.STAT_EVENT="statevent";function Ml(u,m){$.call(this,zn.STAT_EVENT,u),this.stat=m}Z(Ml,$);function Jt(u){const m=Gi();jt(m,new Ml(m,u))}zn.Ma="timingevent";function ye(u,m){$.call(this,zn.Ma,u),this.size=m}Z(ye,$);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Wa(u,m,y,T,P,q){u.info(function(){if(u.g)if(q)for(var W="",Vt=q.split("&"),_e=0;_e<Vt.length;_e++){var Mt=Vt[_e].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var ve=Ie.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ie+"="+Mt+"&"):W+(Ie+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+y+`
`+W})}function rh(u,m,y,T,P,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+y+`
`+q+" "+W})}function Qi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jr(u,y)+(T?" "+T:"")})}function Ul(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<P.length;W++)P[W]=""}}}}return Cn(y)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}Z(qn,Ya),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Ye(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var to={},Us={};function Dn(u,m,y){u.L=1,u.v=Kr(rn(m)),u.m=y,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Hr(u),u.A=rn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),ao(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=$l(u.j,y?m:null,!u.m),0<u.O&&(u.M=new ih(x(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(zr[0]=P.toString()),P=zr);for(var q=0;q<P.length;q++){var W=Ol(y,P[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),Wa(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=yn(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||jl(this.g)))){this.J||ve!=4||m==7||(m==8||0>=Ei?Fi(3):Fi(2)),Yi(this);var y=this.g.Z();this.X=y;e:if(Pl(this)){var T=jl(this.g);u="";var P=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),jn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,rh(this.i,this.u,this.A,this.l,this.R,ve,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,_e=this.g;if((Vt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(Vt)){var Mt=Vt;break e}}Mt=null}if(y=Mt)Qi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,y);else{this.o=!1,this.s=3,Jt(12),Me(this),jn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=kl(this,W),Ue==Us){ve==4&&(this.s=4,Jt(14),y=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==to){this.s=4,Jt(15),Qi(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Qi(this.i,this.l,Ue,null),Gr(this,Ue);if(Pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Jt(16),y=!1),this.o=this.o&&y,!y)Qi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),jn(this);else if(0<W.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),es(Ie),Ie.M=!0,Jt(11))}}else Qi(this.i,this.l,W,null),Gr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Kl(this.j,this):(this.o=!1,Hr(this)))}else uh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Me(this),jn(this)}}}catch{}finally{}};function Pl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function kl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Us:(y=Number(m.substring(y,T)),isNaN(y)?to:(T+=1,T+y>m.length?Us:(m=m.slice(T,T+y),u.C=T+y,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Hr(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(x(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ul(this.i,this.A),this.L!=2&&(Fi(),Jt(17)),Me(this),this.s=2,jn(this)):Ll(this,this.S-u)};function jn(u){u.j.G==0||u.J||Kl(u.j,u)}function Me(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Br(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Gr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||eo(y.h,u))){if(!u.K&&eo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Qs(y),Gs(y);else break t;ho(y),Jt(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(x(y.Za,y),6e3));if(1>=ks(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else vi(y,11)}else if((u.K||y.g==u)&&Qs(y),!yt(m))for(P=y.Da.g.parse(m),m=0;m<P.length;m++){let Mt=P[m];if(y.T=Mt[0],Mt=Mt[1],y.G==2)if(Mt[0]=="c"){y.K=Mt[1],y.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const ve=Mt[4];ve!=null&&(y.Aa=ve,y.j.info("SVER="+y.Aa));const Ei=Mt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Ue=u.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var q=T.h;q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ls(q,q.h),q.h=null))}if(T.D){const mo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(T.ya=mo,Ft(T.I,T.D,mo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=Xl(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Vt=W,_e=T.L;_e&&(Vt.I=_e),Vt.B&&(Yi(Vt),Hr(Vt)),T.g=W}else Fl(T);0<y.i.length&&Fs(y)}else Mt[0]!="stop"&&Mt[0]!="close"||vi(y,7);else y.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vi(y,7):uo(y):Mt[0]!="noop"&&y.l&&y.l.ta(Mt),y.v=0)}}Fi(4)}catch{}}var xl=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ks(u){return u.h?1:u.g?u.g.size:0}function eo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ls(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function no(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function sh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function io(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=xs(u),T=sh(u),P=T.length,q=0;q<P;q++)m.call(void 0,T[q],y&&y[q],u)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),P=null;if(0<=T){var q=u[y].substring(0,T);P=u[y].substring(T+1)}else q=u[y];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Qr(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,y=new gi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),mi(this,y),this.m=u.m}else u&&(m=String(u).match(Fr))?(this.h=!1,Qr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Xi(this,m[4]),this.l=mn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,ro,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,ro,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Yr(y,y.charAt(0)=="/"?oh:so,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Yr(y,zs)),u.join("")};function rn(u){return new de(u)}function Qr(u,m,y){u.j=y?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,y){m instanceof gi?(u.i=m,Bl(u.i,u.h)):(y||(m=Yr(m,lh)),u.i=new gi(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function Kr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,zl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ro=/[#\/\?@]/g,so=/[#\?:]/g,oh=/[#\?]/g,lh=/[#\?@]/g,zs=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ah(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=gi.prototype,a.add=function(u,m){gn(this),this.i=null,u=Hn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function pi(u,m){gn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return gn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){gn(this),this.g.forEach(function(y,T){y.forEach(function(P){u.call(m,P,T,this)},this)},this)},a.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const P=u[T];for(let q=0;q<P.length;q++)y.push(m[T])}return y},a.V=function(u){gn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},a.set=function(u,m){return gn(this),this.i=null,u=Hn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ao(u,m,y){pi(u,m),0<y.length&&(u.i=null,u.g.set(Hn(u,m),nt(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var P=q;W[T]!==""&&(P+="="+encodeURIComponent(String(W[T]))),u.push(P)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Bl(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(y,T){var P=T.toLowerCase();T!=P&&(pi(this,T),ao(this,P,y))},u)),u.j=m}function Xr(u,m){const y=new dn;if(g.Image){const T=new Image;T.onload=F(pn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=F(pn,y,"TestLoadImage: error",!1,m,T),T.onabort=F(pn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(pn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const y=new dn,T=new AbortController,P=setTimeout(()=>{T.abort(),pn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?pn(y,"TestPingServer: ok",!0,m):pn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),pn(y,"TestPingServer: error",!1,m)})}function pn(u,m,y,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(y)}catch{}}function $r(){this.g=new qr}function Gn(u,m,y){const T=y||"";try{io(u,function(P,q){let W=P;v(P)&&(W=Cn(P)),m.push(T+q+"="+encodeURIComponent(W))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}Z($i,Ya),$i.prototype.g=function(){return new _i(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function _i(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(_i,re),a=_i.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&oo(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lo(u){let m="";return Nt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function we(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=lo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function Bt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,re);var Bs=/^https?$/i,Zr=["POST","PUT"];a=Bt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Xa(this.o):Xa(Bn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ql(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)y.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||T||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ql(this,q)}};function ql(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),Kn(u)}function qs(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Kn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},a.bb=function(){js(this)};function js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var P=String(u.D).match(Fr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Bs.test(P?P.toLowerCase():"")}y=T}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",qs(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Jr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Jr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vs(m)}};function jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(yt(u[T]))continue;var y=V(u[T]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[P]||[];m[P]=q,q.push(y)}N(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Hs(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new $r,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Hs.prototype,a.la=8,a.G=1,a.connect=function(u,m,y,T){Jt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Xl(this,null,this.W),Fs(this)};function uo(u){if(Hl(u),u.G==3){var m=u.U++,y=rn(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),ts(u,y),m=new Ye(u,u.j,m),m.L=2,m.v=Kr(rn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=$l(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hr(m)}Yl(u)}function Gs(u){u.g&&(es(u),u.g.cancel(),u.g=null)}function Hl(u){Gs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Fs(u){if(!Ps(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||I(),at||(tt(),at=!0),xt.add(m,u),u.B=0}}function ch(u,m){return ks(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(x(u.Ga,u,m),fo(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Gl(this,P,m),y=rn(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),ts(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(lo(q)))+"&"+m:this.m&&we(y,this.m,q)),Ls(this.h,P),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),P.T=!0,Dn(P,y,null)):Dn(P,y,m),this.G=2}}else this.G==3&&(u?co(this,u):this.i.length==0||Ps(this.h)||co(this))};function co(u,m){var y;m?y=m.l:y=u.U++;const T=rn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",y),Ft(T,"AID",u.T),ts(u,T),u.m&&u.o&&we(T,u.m,u.o),y=new Ye(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Gl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ls(u.h,y),Dn(y,T,m)}function ts(u,m){u.H&&Nt(u.H,function(y,T){Ft(m,T,y)}),u.l&&io({},function(y,T){Ft(m,T,y)})}function Gl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?x(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=P[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Vt=!0;for(let _e=0;_e<y;_e++){let Mt=P[_e].g;const Ie=P[_e].map;if(Mt-=q,0>Mt)q=Math.max(0,P[_e].g-100),Vt=!1;else try{Gn(Ie,W,"req"+Mt+"_")}catch{T&&T(Ie)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Fl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||I(),at||(tt(),at=!0),xt.add(m,u),u.v=0}}function ho(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(x(u.Fa,u),fo(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(x(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Gs(this),Ql(this))};function es(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ql(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),ts(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Kr(rn(m)),y.m=null,y.P=!0,fi(y,u)}a.Za=function(){this.C!=null&&(this.C=null,Gs(this),ho(this),Jt(19))};function Qs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Kl(u,m){var y=null;if(u.g==m){Qs(u),es(u),u.g=null;var T=2}else if(eo(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=Gi(),jt(T,new ye(T,y)),Fs(u)}else Fl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&ch(u,m)||T==2&&ho(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function fo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=x(u.fb,u),T=u.Xa;const P=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Qr(T,"https"),Kr(T),P?Xr(T.toString(),y):On(T.toString(),y)}else Jt(2);u.G=0,u.l&&u.l.sa(m),Yl(u),Hl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Yl(u){if(u.G=0,u.ka=[],u.l){const m=no(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Xl(u,m,y){var T=y instanceof de?rn(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new de(null);T&&Qr(q,T),m&&(q.g=m),P&&Xi(q,P),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Ft(T,y,m),Ft(T,"VER",u.la),ts(u,T),T}function $l(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new $i({eb:y})):new Bt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zl(){}a=Zl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){re.call(this),this.g=new Hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!yt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!yt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}Z($e,re),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){uo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Cn(u),u=y);m.i.push(new xl(m.Ya++,u)),m.G==3&&Fs(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,$e.aa.N.call(this)};function Jl(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Jl,ci);function Wl(){Za.call(this),this.status=1}Z(Wl,Za);function Yn(u){this.g=u}Z(Yn,Zl),Yn.prototype.ua=function(){jt(this.g,"a")},Yn.prototype.ta=function(u){jt(this.g,new Jl(u))},Yn.prototype.sa=function(u){jt(this.g,new Wl)},Yn.prototype.ra=function(){jt(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,EE=function(){return new Ks},vE=function(){return Gi()},_E=zn,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,dc=Ki,hi.COMPLETE="complete",yE=hi,$a.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",re.prototype.listen=re.prototype.K,il=$a,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,pE=Bt}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",V_="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Fd("@firebase/firestore");function Aa(){return bs.logLevel}function it(a,...t){if(bs.logLevel<=Dt.DEBUG){const i=t.map(sm);bs.debug(`Firestore (${qa}): ${a}`,...i)}}function Bi(a,...t){if(bs.logLevel<=Dt.ERROR){const i=t.map(sm);bs.error(`Firestore (${qa}): ${a}`,...i)}}function Va(a,...t){if(bs.logLevel<=Dt.WARN){const i=t.map(sm);bs.warn(`Firestore (${qa}): ${a}`,...i)}}function sm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,TE(a,s,i)}function TE(a,t,i){let s=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Bi(s),new Error(s)}function qt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||TE(t,l,s)}function Et(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ji{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class fw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class dw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ir,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ir)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new AE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class mw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new mw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=yw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function St(a,t){return a<t?-1:a>t?1:0}function Dd(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return St(s,l);{const c=SE(),d=_w(c.encode(U_(a,i)),c.encode(U_(t,i)));return d!==0?d:St(s,l)}}i+=s>65535?2:1}return St(a.length,t.length)}function U_(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function _w(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return St(a[i],t[i]);return St(a.length,t.length)}function Ma(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,k_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*k_);return new Se(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<P_)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k_}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-P_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class ei{constructor(t,i,s){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&mt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return St(t.length,i.length)}static compareSegments(t,i){const s=ei.isNumericId(t),l=ei.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ei.extractNumericId(t).compare(ei.extractNumericId(i)):Dd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class oe extends ei{construct(t,i,s){return new oe(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ei{construct(t,i,s){return new ze(t,i,s)}static isValidIdentifier(t){return vw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new ze([L_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(oe.fromString(t))}static fromName(t){return new ct(oe.fromString(t).popFirst(5))}static empty(){return new ct(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function Ew(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new Cr(l,ct.empty(),t)}function Tw(a){return new Cr(a.readTime,a.key,dl)}class Cr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Cr(vt.min(),ct.empty(),dl)}static max(){return new Cr(vt.max(),ct.empty(),dl)}}function Aw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,t.documentKey),i!==0?i:St(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==Sw)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,s)=>{i(t)})}static reject(t){return new K((i,s)=>{s(t)})}static waitFor(t){return new K((i,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const s of t)i=i.next(l=>l?K.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new K((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,i){return new K((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function Rw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ha(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function Gc(a){return a==null}function wc(a){return a===0&&1/a==-1/0}function ww(a){return typeof a=="number"&&Number.isInteger(a)&&!wc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="";function Iw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=x_(t)),t=Cw(a.get(i),t);return x_(t)}function Cw(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function x_(a){return a+RE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function ws(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function wE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,i){this.comparator=t,this.root=i||xe.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nc(this.root,t,this.comparator,!0)}}class nc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??xe.RED,this.left=l??xe.EMPTY,this.right=c??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new xe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(t){return new B_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class B_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new kn([])}unionWith(t){let i=new be(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ma(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new IE("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(qt(!!a,39018),typeof a=="string"){let t=0;const i=Dw.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Or(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="server_timestamp",DE="__type__",OE="__previous_value__",NE="__local_write_time__";function om(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[DE])===null||i===void 0?void 0:i.stringValue)===CE}function Fc(a){const t=a.mapValue.fields[OE];return om(t)?Fc(t):t}function ml(a){const t=Dr(a.mapValue.fields[NE].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i,s,l,c,d,g,p,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=A}}const Ic="(default)";class gl{constructor(t,i){this.projectId=t,this.database=i||Ic}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(t){return t instanceof gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__type__",Nw="__max__",ic={mapValue:{}},ME="__vector__",Cc="value";function Nr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?om(a)?4:Mw(a)?9007199254740991:Vw(a)?10:11:mt(28295,{value:a})}function ai(a,t){if(a===t)return!0;const i=Nr(a);if(i!==Nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ml(a).isEqual(ml(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Dr(l.timestampValue),g=Dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,c){return Or(l.bytesValue).isEqual(Or(c.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(a,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?wc(d)===wc(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Ma(a.arrayValue.values||[],t.arrayValue.values||[],ai);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(z_(d)!==z_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ai(d[p],g[p])))return!1;return!0}(a,t);default:return mt(52216,{left:a})}}function pl(a,t){return(a.values||[]).find(i=>ai(i,t))!==void 0}function Ua(a,t){if(a===t)return 0;const i=Nr(a),s=Nr(t);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(a.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,t);case 3:return q_(a.timestampValue,t.timestampValue);case 4:return q_(ml(a),ml(t));case 5:return Dd(a.stringValue,t.stringValue);case 6:return function(c,d){const g=Or(c),p=Or(d);return g.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=St(g[v],p[v]);if(A!==0)return A}return St(g.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(c,d){const g=St(he(c.latitude),he(d.latitude));return g!==0?g:St(he(c.longitude),he(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return j_(a.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const C=c.fields||{},x=d.fields||{},F=(g=C[Cc])===null||g===void 0?void 0:g.arrayValue,Z=(p=x[Cc])===null||p===void 0?void 0:p.arrayValue,nt=St(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:j_(F,Z)}(a.mapValue,t.mapValue);case 11:return function(c,d){if(c===ic.mapValue&&d===ic.mapValue)return 0;if(c===ic.mapValue)return 1;if(d===ic.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const x=Dd(p[C],A[C]);if(x!==0)return x;const F=Ua(g[p[C]],v[A[C]]);if(F!==0)return F}return St(p.length,A.length)}(a.mapValue,t.mapValue);default:throw mt(23264,{Pe:i})}}function q_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return St(a,t);const i=Dr(a),s=Dr(t),l=St(i.seconds,s.seconds);return l!==0?l:St(i.nanos,s.nanos)}function j_(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ua(i[l],s[l]);if(c)return c}return St(i.length,s.length)}function Pa(a){return Od(a)}function Od(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Or(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ct.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Od(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Od(i.fields[d])}`;return l+"}"}(a.mapValue):mt(61005,{value:a})}function mc(a){switch(Nr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fc(a);return t?16+mc(t):16;case 5:return 2*a.stringValue.length;case 6:return Or(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+mc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return ws(s.fields,(c,d)=>{l+=c.length+mc(d)}),l}(a.mapValue);default:throw mt(13486,{value:a})}}function Nd(a){return!!a&&"integerValue"in a}function lm(a){return!!a&&"arrayValue"in a}function H_(a){return!!a&&"nullValue"in a}function G_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function gc(a){return!!a&&"mapValue"in a}function Vw(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[VE])===null||i===void 0?void 0:i.stringValue)===ME}function ol(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return ws(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ol(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ol(a.arrayValue.values[i]);return t}return Object.assign({},a)}function Mw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Nw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ol(i)}setAll(t){let i=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=ol(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ai(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){ws(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Rn(ol(this.value))}}function UE(a){const t=[];return ws(a.fields,(i,s)=>{const l=new ze([i]);if(gc(s)){const c=UE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(t,i,s,l){return new Qe(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i){this.position=t,this.inclusive=i}}function F_(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Ua(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Uw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{}class Ae extends PE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new kw(t,i,s):i==="array-contains"?new zw(t,s):i==="in"?new Bw(t,s):i==="not-in"?new qw(t,s):i==="array-contains-any"?new jw(t,s):new Ae(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Lw(t,s):new xw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ua(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Ua(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends PE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new oi(t,i)}matches(t){return kE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kE(a){return a.op==="and"}function LE(a){return Pw(a)&&kE(a)}function Pw(a){for(const t of a.filters)if(t instanceof oi)return!1;return!0}function Vd(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+Pa(a.value);if(LE(a))return a.filters.map(t=>Vd(t)).join(",");{const t=a.filters.map(i=>Vd(i)).join(",");return`${a.op}(${t})`}}function xE(a,t){return a instanceof Ae?function(s,l){return l instanceof Ae&&s.op===l.op&&s.field.isEqual(l.field)&&ai(s.value,l.value)}(a,t):a instanceof oi?function(s,l){return l instanceof oi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&xE(d,l.filters[g]),!0):!1}(a,t):void mt(19439)}function zE(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Pa(i.value)}`}(a):a instanceof oi?function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"}(a):"Filter"}class kw extends Ae{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Lw extends Ae{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class xw extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function BE(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class zw extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return lm(i)&&pl(i.arrayValue,this.value)}}class Bw extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&pl(this.value.arrayValue,i)}}class qw extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!pl(this.value.arrayValue,i)}}class jw extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>pl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function K_(a,t=null,i=[],s=[],l=null,c=null,d=null){return new Hw(a,t,i,s,l,c,d)}function um(a){const t=Et(a);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Vd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Gc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Pa(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Pa(s)).join(",")),t.Ie=i}return t.Ie}function cm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Uw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!xE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Q_(a.startAt,t.startAt)&&Q_(a.endAt,t.endAt)}function Md(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Gw(a,t,i,s,l,c,d,g){return new Qc(a,t,i,s,l,c,d,g)}function hm(a){return new Qc(a)}function Y_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Fw(a){return a.collectionGroup!==null}function ll(a){const t=Et(a);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Oc(c,s))}),i.has(ze.keyField().canonicalString())||t.Ee.push(new Oc(ze.keyField(),s))}return t.Ee}function ii(a){const t=Et(a);return t.de||(t.de=Qw(t,ll(a))),t.de}function Qw(a,t){if(a.limitType==="F")return K_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Oc(l.field,c)});const i=a.endAt?new Dc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Dc(a.startAt.position,a.startAt.inclusive):null;return K_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Ud(a,t,i){return new Qc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Kc(a,t){return cm(ii(a),ii(t))&&a.limitType===t.limitType}function qE(a){return`${um(ii(a))}|lt:${a.limitType}`}function Sa(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>zE(l)).join(", ")}]`),Gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Pa(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Pa(l)).join(",")),`Target(${s})`}(ii(a))}; limitType=${a.limitType})`}function Yc(a,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,t)&&function(s,l){for(const c of ll(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=F_(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,ll(s),l)||s.endAt&&!function(d,g,p){const v=F_(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,ll(s),l))}(a,t)}function Kw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function jE(a){return(t,i)=>{let s=!1;for(const l of ll(a)){const c=Yw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Yw(a,t,i){const s=a.field.isKeyField()?ct.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Ua(p,v):mt(42886)}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new ne(ct.comparator);function qi(){return Xw}const HE=new ne(ct.comparator);function rl(...a){let t=HE;for(const i of a)t=t.insert(i.key,i);return t}function GE(a){let t=HE;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function vs(){return ul()}function FE(){return ul()}function ul(){return new Is(a=>a.toString(),(a,t)=>a.isEqual(t))}const $w=new ne(ct.comparator),Zw=new be(ct.comparator);function Ot(...a){let t=Zw;for(const i of a)t=t.add(i);return t}const Jw=new be(St);function Ww(){return Jw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(t)?"-0":t}}function QE(a){return{integerValue:""+a}}function t1(a,t){return ww(t)?QE(t):fm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function e1(a,t,i){return a instanceof Nc?function(l,c){const d={fields:{[DE]:{stringValue:CE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&om(c)&&(c=Fc(c)),c&&(d.fields[OE]=c),{mapValue:d}}(i,t):a instanceof yl?YE(a,t):a instanceof _l?XE(a,t):function(l,c){const d=KE(l,c),g=X_(d)+X_(l.Re);return Nd(d)&&Nd(l.Re)?QE(g):fm(l.serializer,g)}(a,t)}function n1(a,t,i){return a instanceof yl?YE(a,t):a instanceof _l?XE(a,t):i}function KE(a,t){return a instanceof Vc?function(s){return Nd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Nc extends Xc{}class yl extends Xc{constructor(t){super(),this.elements=t}}function YE(a,t){const i=$E(t);for(const s of a.elements)i.some(l=>ai(l,s))||i.push(s);return{arrayValue:{values:i}}}class _l extends Xc{constructor(t){super(),this.elements=t}}function XE(a,t){let i=$E(t);for(const s of a.elements)i=i.filter(l=>!ai(l,s));return{arrayValue:{values:i}}}class Vc extends Xc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function X_(a){return he(a.integerValue||a.doubleValue)}function $E(a){return lm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function i1(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof yl&&l instanceof yl||s instanceof _l&&l instanceof _l?Ma(s.elements,l.elements,ai):s instanceof Vc&&l instanceof Vc?ai(s.Re,l.Re):s instanceof Nc&&l instanceof Nc}(a.transform,t.transform)}class r1{constructor(t,i){this.version=t,this.transformResults=i}}class Li{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class $c{}function ZE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new WE(a.key,Li.none()):new wl(a.key,a.data,Li.none());{const i=a.data,s=Rn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Cs(a.key,s,new kn(l.toArray()),Li.none())}}function s1(a,t,i){a instanceof wl?function(l,c,d){const g=l.value.clone(),p=Z_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Cs?function(l,c,d){if(!pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Z_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(JE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function cl(a,t,i,s){return a instanceof wl?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=c.value.clone(),A=J_(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof Cs?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=J_(c.fieldTransforms,p,d),A=d.data;return A.setAll(JE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(a,t,i,s):function(c,d,g){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function a1(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=KE(s.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(s.field,c))}return i||null}function $_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ma(s,l,(c,d)=>i1(c,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class wl extends $c{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cs extends $c{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JE(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function Z_(a,t,i){const s=new Map;qt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,n1(d,g,i[l]))}return s}function J_(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,e1(c,d,t))}return s}class WE extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o1 extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&s1(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=cl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=cl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=FE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=ZE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Ma(this.mutations,t.mutations,(i,s)=>$_(i,s))&&Ma(this.baseMutations,t.baseMutations,(i,s)=>$_(i,s))}}class dm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return $w}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new dm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Pt;function h1(a){switch(a){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:a})}}function tT(a){if(a===void 0)return Bi("GRPC error has no .code"),X.UNKNOWN;switch(a){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:a})}}(Pt=pe||(pe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new wr([4294967295,4294967295],0);function W_(a){const t=SE().encode(a),i=new gE;return i.update(t),new Uint8Array(i.digest())}function tv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new wr([i,s],0),new wr([l,c],0)]}class mm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new sl(`Invalid padding: ${i}`);if(s<0)throw new sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new sl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=wr.fromNumber(this.pe)}we(t,i,s){let l=t.add(i.multiply(wr.fromNumber(s)));return l.compare(f1)===1&&(l=new wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=W_(t),[s,l]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new mm(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=W_(t),[s,l]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Il.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Zc(vt.min(),l,new ne(St),qi(),Ot())}}class Il{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Il(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,i,s,l){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=l}}class eT{constructor(t,i){this.targetId=t,this.Ce=i}}class nT{constructor(t,i,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class ev{constructor(){this.Fe=0,this.Me=nv(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ot(),i=Ot(),s=Ot();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}}),new Il(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=nv()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class d1{constructor(t){this.ze=t,this.je=new Map,this.He=qi(),this.Je=rc(),this.Ye=rc(),this.Ze=new ne(St)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:mt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,s=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(Md(c))if(s===0){const d=new ct(c.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Or(s).toUint8Array()}catch(p){if(p instanceof IE)return Va("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new mm(d,l,c)}catch(p){return Va(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Md(g.target)){const p=new ct(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let s=Ot();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this._t(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new Zc(t,i,this.Ze,this.He,s);return this.He=qi(),this.Je=rc(),this.Ye=rc(),this.Ze=new ne(St),l}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new ev,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new be(St),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new be(St),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new ev),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function rc(){return new ne(ct.comparator)}function nv(){return new ne(ct.comparator)}const m1={asc:"ASCENDING",desc:"DESCENDING"},g1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p1={and:"AND",or:"OR"};class y1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Pd(a,t){return a.useProto3Json||Gc(t)?t:{value:t}}function Mc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function _1(a,t){return Mc(a,t.toTimestamp())}function ri(a){return qt(!!a,49232),vt.fromTimestamp(function(i){const s=Dr(i);return new Se(s.seconds,s.nanos)}(a))}function gm(a,t){return kd(a,t).canonicalString()}function kd(a,t){const i=function(l){return new oe(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function rT(a){const t=oe.fromString(a);return qt(uT(t),10190,{key:t.toString()}),t}function Ld(a,t){return gm(a.databaseId,t.path)}function gd(a,t){const i=rT(t);if(i.get(1)!==a.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(aT(i))}function sT(a,t){return gm(a.databaseId,t)}function v1(a){const t=rT(a);return t.length===4?oe.emptyPath():aT(t)}function xd(a){return new oe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function aT(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function iv(a,t,i){return{name:Ld(a,t),fields:i.value.mapValue.fields}}function E1(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:tT(v.code);return new ut(A,v.message||"")}(d);i=new nT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=gd(a,s.document.name),c=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):vt.min(),g=new Rn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new yc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=gd(a,s.document),c=s.readTime?ri(s.readTime):vt.min(),d=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];i=new yc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=gd(a,s.document),c=s.removedTargetIds||[];i=new yc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new c1(l,c),g=s.targetId;i=new eT(g,d)}}return i}function T1(a,t){let i;if(t instanceof wl)i={update:iv(a,t.key,t.value)};else if(t instanceof WE)i={delete:Ld(a,t.key)};else if(t instanceof Cs)i={update:iv(a,t.key,t.data),updateMask:O1(t.fieldMask)};else{if(!(t instanceof o1))return mt(16599,{ft:t.type});i={verify:Ld(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof _l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw mt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:_1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)}(a,t.precondition)),i}function A1(a,t){return a&&a.length>0?(qt(t!==void 0,14353),a.map(i=>function(l,c){let d=l.updateTime?ri(l.updateTime):ri(c);return d.isEqual(vt.min())&&(d=ri(c)),new r1(d,l.transformResults||[])}(i,t))):[]}function S1(a,t){return{documents:[sT(a,t.path)]}}function b1(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=sT(a,l);const c=function(v){if(v.length!==0)return lT(oi.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(x){return{field:ba(x.field),direction:I1(x.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:i,parent:l}}function R1(a){let t=v1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const x=oT(C);return x instanceof oi&&LE(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(x=>function(Z){return new Oc(Ra(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(x))}(i.orderBy));let g=null;i.limit&&(g=function(C){let x;return x=typeof C=="object"?C.value:C,Gc(x)?null:x}(i.limit));let p=null;i.startAt&&(p=function(C){const x=!!C.before,F=C.values||[];return new Dc(F,x)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const x=!C.before,F=C.values||[];return new Dc(F,x)}(i.endAt)),Gw(t,l,d,c,g,"F",p,v)}function w1(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ra(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ra(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ra(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ra(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(Ra(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return oi.create(i.compositeFilter.filters.map(s=>oT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(i.compositeFilter.op))}(a):mt(30097,{filter:a})}function I1(a){return m1[a]}function C1(a){return g1[a]}function D1(a){return p1[a]}function ba(a){return{fieldPath:a.canonicalString()}}function Ra(a){return ze.fromServerFormat(a.fieldPath)}function lT(a){return a instanceof Ae?function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NAN"}};if(H_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NAN"}};if(H_(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(i.field),op:C1(i.op),value:i.value}}}(a):a instanceof oi?function(i){const s=i.getFilters().map(l=>lT(l));return s.length===1?s[0]:{compositeFilter:{op:D1(i.op),filters:s}}}(a):mt(54877,{filter:a})}function O1(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function uT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,i,s,l,c=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.wt=t}}function V1(a){const t=R1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ud(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.yn=new U1}addToCollectionParentIndex(t,i){return this.yn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Cr.min())}updateCollectionGroup(t,i,s){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class U1{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new be(oe.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(cT,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new ka(0)}static ir(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LruGarbageCollector",P1=1048576;function av([a,t],[i,s]){const l=St(a,i);return l===0?St(t,s):l}class k1{constructor(t){this.cr=t,this.buffer=new be(av),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();av(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class L1{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){it(sv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ha(i)?it(sv,"Ignoring IndexedDB error during garbage collection: ",i):await ja(i)}await this.Ir(3e5)})}}class x1{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Hc.le);const s=new k1(i);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Er.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(rv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let s,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(v=Date.now(),Aa()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function z1(a,t){return new x1(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.changes=new Is(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&cl(s.mutation,l,kn.empty(),Se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ot()){const l=vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let d=rl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=vs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ot()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let c=qi();const d=ul(),g=function(){return ul()}();return i.forEach((p,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Cs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),cl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,kn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var C;return g.set(v,new q1(A,(C=d.get(v))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=ul();let l=new ne((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=s.get(p)||kn.empty();A=g.applyToLocalView(v,A),s.set(p,A);const C=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,C=FE();A.forEach(x=>{if(!c.has(x)){const F=ZE(i.get(x),s.get(x));F!==null&&C.set(x,F),c=c.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Fw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):K.resolve(vs());let g=dl,p=c;return d.next(v=>K.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(x=>{p=p.insert(A,x)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Ot())).next(A=>({batchId:g,changes:GE(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next(s=>{let l=rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=rl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const v=function(C,x){return new Qc(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((C,x)=>{d=d.insert(C,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=rl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&cl(A.mutation,v,kn.empty(),Se.now()),Yc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return K.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ri(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:V1(l.bundledQuery),readTime:ri(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.overlays=new ne(ct.comparator),this.Or=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const s=vs();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.St(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),K.resolve()}getOverlaysForCollection(t,i,s){const l=vs(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=vs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new u1(i,s));let c=this.Or.get(i);c===void 0&&(c=Ot(),this.Or.set(i,c)),this.Or.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.Nr=new be(Ne.Br),this.Lr=new be(Ne.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const s=new Ne(t,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Qr(new Ne(t,i))}$r(t,i){t.forEach(s=>this.removeReference(s,i))}Ur(t){const i=new ct(new oe([])),s=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.Lr.forEachInRange([s,l],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new ct(new oe([])),s=new Ne(i,t),l=new Ne(i,t+1);let c=Ot();return this.Lr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ne(t,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ne{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return ct.comparator(t.key,i.key)||St(t.Gr,i.Gr)}static kr(t,i){return St(t.Gr,i.Gr)||ct.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new be(Ne.Br)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new l1(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.zr=this.zr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Hr(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?am:this.Jn-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,l],d=>{const g=this.jr(d.Gr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new be(St);return i.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],g=>{s=s.add(g.Gr)})}),K.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ct(c),0);let g=new be(St);return this.zr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Gr)),!0)},d),K.resolve(this.Jr(g))}Jr(t){const i=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return K.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,i){const s=new Ne(i,0),l=this.zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.Zr=t,this.docs=function(){return new ne(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let s=qi();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=qi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Aw(Tw(A),s)<=0||(l.has(A.key)||Yc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,s,l){mt(9500)}Xr(t,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Y1(this)}getSize(t){return K.resolve(this.size)}}class Y1 extends B1{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),K.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.persistence=t,this.ei=new Is(i=>um(i),cm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ti=0,this.ni=new pm,this.targetCount=0,this.ri=ka.rr()}forEachTarget(t,i){return this.ei.forEach((s,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),K.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new ka(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.ar(i),K.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const s=this.ei.get(i)||null;return K.resolve(s)}addMatchingKeys(t,i,s){return this.ni.qr(i,s),K.resolve()}removeMatchingKeys(t,i,s){this.ni.$r(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),K.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ni.Wr(i);return K.resolve(s)}containsKey(t,i){return K.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i){this.ii={},this.overlays={},this.si=new Hc(0),this.oi=!1,this.oi=!0,this._i=new F1,this.referenceDelegate=t(this),this.ai=new X1(this),this.indexManager=new M1,this.remoteDocumentCache=function(l){return new K1(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new N1(i),this.ci=new H1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new G1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ii[t.toKey()];return s||(s=new Q1(i,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new $1(this.si.next());return this.referenceDelegate.li(),s(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,i){return K.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,i)))}}class $1 extends bw{constructor(t){super(),this.currentSequenceNumber=t}}class ym{constructor(t){this.persistence=t,this.Ti=new pm,this.Ii=null}static Ei(t){return new ym(t)}get di(){if(this.Ii)return this.Ii;throw mt(60996)}addReference(t,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),K.resolve()}removeReference(t,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,s=>{const l=ct.fromPath(s);return this.Ai(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return K.or([()=>K.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Uc{constructor(t,i){this.persistence=t,this.Ri=new Is(s=>Iw(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=z1(this,i)}static Ei(t,i){return new Uc(t,i)}li(){}hi(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}Vr(t){let i=0;return this.Ar(t,s=>{i++}).next(()=>i)}Ar(t,i){return K.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,i).next(g=>{g||(s++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=mc(t.data.value)),i}gr(t,i,s){return K.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.ls=s,this.hs=l}static Ps(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new _m(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return GA()?8:Rw(Ke())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.Rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(t,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Z1;return this.fs(t,i,d).next(g=>{if(c.result=g,this.Is)return this.gs(t,i,d,g.size)})}).next(()=>c.result)}gs(t,i,s,l){return s.documentReadCount<this.Es?(Aa()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Sa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(Aa()<=Dt.DEBUG&&it("QueryEngine","Query:",Sa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Aa()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Sa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):K.resolve())}Rs(t,i){if(Y_(i))return K.resolve(null);let s=ii(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Ud(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Ot(...c);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.ps(i,g);return this.ys(i,v,d,p.readTime)?this.Rs(t,Ud(i,null,"F")):this.ws(t,v,i,p)}))})))}Vs(t,i,s,l){return Y_(i)||l.isEqual(vt.min())?K.resolve(null):this.As.getDocuments(t,s).next(c=>{const d=this.ps(i,c);return this.ys(i,d,s,l)?K.resolve(null):(Aa()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Sa(i)),this.ws(t,d,i,Ew(l,dl)).next(g=>g))})}ps(t,i){let s=new be(jE(t));return i.forEach((l,c)=>{Yc(t,c)&&(s=s.add(c))}),s}ys(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,i,s){return Aa()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Sa(i)),this.As.getDocumentsMatchingQuery(t,i,Cr.min(),s)}ws(t,i,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",W1=3e8;class tI{constructor(t,i,s,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new ne(St),this.Ds=new Is(c=>um(c),cm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new j1(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function eI(a,t,i,s){return new tI(a,t,i,s)}async function fT(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.Fs(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function nI(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const C=v.batch,x=C.keys();let F=K.resolve();return x.forEach(Z=>{F=F.next(()=>A.getEntry(p,Z)).next(nt=>{const J=v.docVersions.get(Z);qt(J!==null,48541),nt.version.compareTo(J)<0&&(C.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ot();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function dT(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function iI(a,t){const i=Et(a),s=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const g=[];t.targetChanges.forEach((A,C)=>{const x=l.get(C);if(!x)return;g.push(i.ai.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.ai.addMatchingKeys(c,A.addedDocuments,C)));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?F=F.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(C,F),function(nt,J,bt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=W1?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(x,F,A)&&g.push(i.ai.updateTargetData(c,F))});let p=qi(),v=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(rI(c,d,t.documentUpdates).next(A=>{p=A.xs,v=A.Os})),!s.isEqual(vt.min())){const A=i.ai.getLastRemoteSnapshotVersion(c).next(C=>i.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ss=l,c))}function rI(a,t,i){let s=Ot(),l=Ot();return i.forEach(c=>s=s.add(c)),t.getEntries(a,s).next(c=>{let d=qi();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(vm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{xs:d,Os:l}})}function sI(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=am),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function aI(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.ai.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):i.ai.allocateTargetId(s).next(d=>(l=new Ar(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(t,s.targetId)),s})}async function zd(a,t,i){const s=Et(a),l=s.Ss.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ha(d))throw d;it(vm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function ov(a,t,i){const s=Et(a);let l=vt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const C=Et(p),x=C.Ds.get(A);return x!==void 0?K.resolve(C.Ss.get(x)):C.ai.getTargetData(v,A)}(s,d,ii(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ot())).next(g=>(oI(s,Kw(t),g),{documents:g,Ns:c})))}function oI(a,t,i){let s=a.vs.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.vs.set(t,s)}class lv{constructor(){this.activeTargetIds=Ww()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lI{constructor(){this.So=new lv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,s){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new lv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="ConnectivityMonitor";class cv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(uv,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){it(uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Bd(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hI{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,i,s,l,c){const d=Bd(),g=this.$o(t,i.toUriEncodedString());it(pd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,l,c);const{host:v}=new URL(g),A=zc(v);return this.Ko(t,g,p,s,A).then(C=>(it(pd,`Received RPC '${t}' ${d}: `,C),C),C=>{throw Va(pd,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Wo(t,i,s,l,c,d){return this.Qo(t,i,s,l,c)}Uo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}$o(t,i){const s=cI[t];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class dI extends hI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,s,l,c){const d=Bd();return new Promise((g,p)=>{const v=new pE;v.setWithCredentials(!0),v.listenOnce(yE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case dc.NO_ERROR:const C=v.getResponseJson();it(Ge,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case dc.TIMEOUT:it(Ge,`RPC '${t}' ${d} timed out`),p(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const x=v.getStatus();if(it(Ge,`RPC '${t}' ${d} failed with status:`,x,"response text:",v.getResponseText()),x>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const nt=function(bt){const yt=bt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(yt)>=0?yt:X.UNKNOWN}(Z.status);p(new ut(nt,Z.message))}else p(new ut(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new ut(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{s_:t,streamId:d,o_:v.getLastErrorCode(),__:v.getLastError()})}}finally{it(Ge,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Ge,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)})}a_(t,i,s){const l=Bd(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=EE(),g=vE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);let x=!1,F=!1;const Z=new fI({Go:J=>{F?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),C.open(),x=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,J),C.send(J))},zo:()=>C.close()}),nt=(J,bt,yt)=>{J.listen(bt,ft=>{try{yt(ft)}catch(kt){setTimeout(()=>{throw kt},0)}})};return nt(C,il.EventType.OPEN,()=>{F||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),Z.t_())}),nt(C,il.EventType.CLOSE,()=>{F||(F=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),Z.r_())}),nt(C,il.EventType.ERROR,J=>{F||(F=!0,Va(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.r_(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),nt(C,il.EventType.MESSAGE,J=>{var bt;if(!F){const yt=J.data[0];qt(!!yt,16349);const ft=yt,kt=(ft==null?void 0:ft.error)||((bt=ft[0])===null||bt===void 0?void 0:bt.error);if(kt){it(Ge,`RPC '${t}' stream ${l} received error:`,kt);const _t=kt.status;let Nt=function(R){const O=pe[R];if(O!==void 0)return tT(O)}(_t),N=kt.message;Nt===void 0&&(Nt=X.INTERNAL,N="Unknown error status: "+_t+" with message "+kt.message),F=!0,Z.r_(new ut(Nt,N)),C.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,yt),Z.i_(yt)}}),nt(g,_E.STAT_EVENT,J=>{J.stat===Cd.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Cd.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.n_()},0),Z}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(a){return new y1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=i,this.u_=s,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="PersistentStream";class gT{constructor(t,i,s,l,c,d,g,p){this.bi=t,this.R_=s,this.V_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new mT(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===i&&this.B_(s,l)},s=>{t(()=>{const l=new ut(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,i){const s=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return it(hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(it(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mI extends gT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=E1(this.serializer,t),s=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ri(d.readTime):vt.min()}(t);return this.listener.Q_(i,s)}U_(t){const i={};i.database=xd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Md(p)?{documents:S1(c,p)}:{query:b1(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=iT(c,d.resumeToken);const v=Pd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Mc(c,d.snapshotVersion.toTimestamp());const v=Pd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=w1(this.serializer,t);s&&(i.labels=s),this.F_(i)}K_(t){const i={};i.database=xd(this.serializer),i.removeTarget=t,this.F_(i)}}class gI extends gT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=A1(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.j_(s,i)}H_(){const t={};t.database=xd(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>T1(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{}class yI extends pI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(t,kd(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(X.UNKNOWN,c.toString())})}Wo(t,i,s,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,kd(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _I{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Bi(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class vI{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{s.enqueueAndForget(async()=>{Ds(this)&&(it(Rs,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.aa.add(4),await Cl(v),v.la.set("Unknown"),v.aa.delete(4),await Wc(v)}(this))})}),this.la=new _I(s,l)}}async function Wc(a){if(Ds(a))for(const t of a.ua)await t(!0)}async function Cl(a){for(const t of a.ua)await t(!1)}function pT(a,t){const i=Et(a);i._a.has(t.targetId)||(i._a.set(t.targetId,t),Sm(i)?Am(i):Ga(i).b_()&&Tm(i,t))}function Em(a,t){const i=Et(a),s=Ga(i);i._a.delete(t),s.b_()&&yT(i,t),i._a.size===0&&(s.b_()?s.v_():Ds(i)&&i.la.set("Unknown"))}function Tm(a,t){if(a.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ga(a).U_(t)}function yT(a,t){a.ha.Ke(t),Ga(a).K_(t)}function Am(a){a.ha=new d1({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>a._a.get(t)||null,Pt:()=>a.datastore.serializer.databaseId}),Ga(a).start(),a.la.ta()}function Sm(a){return Ds(a)&&!Ga(a).w_()&&a._a.size>0}function Ds(a){return Et(a).aa.size===0}function _T(a){a.ha=void 0}async function EI(a){a.la.set("Online")}async function TI(a){a._a.forEach((t,i)=>{Tm(a,t)})}async function AI(a,t){_T(a),Sm(a)?(a.la.ia(t),Am(a)):a.la.set("Unknown")}async function SI(a,t,i){if(a.la.set("Online"),t instanceof nT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l._a.delete(g),l.ha.removeTarget(g))}(a,t)}catch(s){it(Rs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pc(a,s)}else if(t instanceof yc?a.ha.Xe(t):t instanceof eT?a.ha.ot(t):a.ha.nt(t),!i.isEqual(vt.min()))try{const s=await dT(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.ha.It(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c._a.get(v);A&&c._a.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c._a.get(p);if(!A)return;c._a.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),yT(c,p);const C=new Ar(A.target,p,v,A.sequenceNumber);Tm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(Rs,"Failed to raise snapshot:",s),await Pc(a,s)}}async function Pc(a,t,i){if(!Ha(t))throw t;a.aa.add(1),await Cl(a),a.la.set("Offline"),i||(i=()=>dT(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(Rs,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await Wc(a)})}function vT(a,t){return t().catch(i=>Pc(a,i,t))}async function th(a){const t=Et(a),i=Vr(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:am;for(;bI(t);)try{const l=await sI(t.localStore,s);if(l===null){t.oa.length===0&&i.v_();break}s=l.batchId,RI(t,l)}catch(l){await Pc(t,l)}ET(t)&&TT(t)}function bI(a){return Ds(a)&&a.oa.length<10}function RI(a,t){a.oa.push(t);const i=Vr(a);i.b_()&&i.W_&&i.G_(t.mutations)}function ET(a){return Ds(a)&&!Vr(a).w_()&&a.oa.length>0}function TT(a){Vr(a).start()}async function wI(a){Vr(a).H_()}async function II(a){const t=Vr(a);for(const i of a.oa)t.G_(i.mutations)}async function CI(a,t,i){const s=a.oa.shift(),l=dm.from(s,t,i);await vT(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await th(a)}async function DI(a,t){t&&Vr(a).W_&&await async function(s,l){if(function(d){return h1(d)&&d!==X.ABORTED}(l.code)){const c=s.oa.shift();Vr(s).D_(),await vT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await th(s)}}(a,t),ET(a)&&TT(a)}async function fv(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(Rs,"RemoteStore received new credentials");const s=Ds(i);i.aa.add(3),await Cl(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Wc(i)}async function OI(a,t){const i=Et(a);t?(i.aa.delete(2),await Wc(i)):t||(i.aa.add(2),await Cl(i),i.la.set("Unknown"))}function Ga(a){return a.Pa||(a.Pa=function(i,s,l){const c=Et(i);return c.Y_(),new mI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{jo:EI.bind(null,a),Jo:TI.bind(null,a),Zo:AI.bind(null,a),Q_:SI.bind(null,a)}),a.ua.push(async t=>{t?(a.Pa.D_(),Sm(a)?Am(a):a.la.set("Unknown")):(await a.Pa.stop(),_T(a))})),a.Pa}function Vr(a){return a.Ta||(a.Ta=function(i,s,l){const c=Et(i);return c.Y_(),new gI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:wI.bind(null,a),Zo:DI.bind(null,a),z_:II.bind(null,a),j_:CI.bind(null,a)}),a.ua.push(async t=>{t?(a.Ta.D_(),await th(a)):(await a.Ta.stop(),a.oa.length>0&&(it(Rs,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new bm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(a,t){if(Bi("AsyncQueue",`${t}: ${a}`),Ha(a))return new ut(X.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(t){return new Da(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=rl(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Da)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Da;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.Ia=new ne(ct.comparator)}track(t){const i=t.doc.key,s=this.Ia.get(i);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(i):t.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,s)=>{t.push(s)}),t}}class La{constructor(t,i,s,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new La(t,i,Da.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class VI{constructor(){this.queries=mv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=mv(),c.forEach((d,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function mv(){return new Is(a=>qE(a),Kc)}async function MI(a,t){const i=Et(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Va()&&t.ma()&&(s=2):(c=new NI,s=t.ma()?0:1);try{switch(s){case 0:c.Aa=await i.onListen(l,!0);break;case 1:c.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Rm(d,`Initialization of query '${Sa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Ra.push(t),t.ga(i.onlineState),c.Aa&&t.pa(c.Aa)&&wm(i)}async function UI(a,t){const i=Et(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Ra.indexOf(t);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function PI(a,t){const i=Et(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Ra)g.pa(l)&&(s=!0);d.Aa=l}}s&&wm(i)}function kI(a,t,i){const s=Et(a),l=s.queries.get(t);if(l)for(const c of l.Ra)c.onError(i);s.queries.delete(t)}function wm(a){a.fa.forEach(t=>{t.next()})}var qd,gv;(gv=qd||(qd={})).ya="default",gv.Cache="cache";class LI{constructor(t,i,s){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new La(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=La.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t){this.key=t}}class ST{constructor(t){this.key=t}}class xI{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ot(),this.mutatedKeys=Ot(),this.Ua=jE(t),this.Ka=new Da(this.Ua)}get Wa(){return this.qa}Ga(t,i){const s=i?i.za:new dv,l=i?i.Ka:this.Ka;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const x=l.get(A),F=Yc(this.query,C)?C:null,Z=!!x&&this.mutatedKeys.has(x.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;x&&F?x.data.isEqual(F.data)?Z!==nt&&(s.track({type:3,doc:F}),J=!0):this.ja(x,F)||(s.track({type:2,doc:F}),J=!0,(p&&this.Ua(F,p)>0||v&&this.Ua(F,v)<0)&&(g=!0)):!x&&F?(s.track({type:0,doc:F}),J=!0):x&&!F&&(s.track({type:1,doc:x}),J=!0,(p||v)&&(g=!0)),J&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:c}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((A,C)=>function(F,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:J})}};return nt(F)-nt(Z)}(A.type,C.type)||this.Ua(A.doc,C.doc)),this.Ha(s),l=l!=null&&l;const g=i&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,v=p!==this.Qa;return this.Qa=p,d.length!==0||v?{snapshot:new La(this.query,t.Ka,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new dv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Ot(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return t.forEach(s=>{this.$a.has(s)||i.push(new ST(s))}),this.$a.forEach(s=>{t.has(s)||i.push(new AT(s))}),i}Xa(t){this.qa=t.Ns,this.$a=Ot();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return La.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Im="SyncEngine";class zI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class BI{constructor(t){this.key=t,this.tu=!1}}class qI{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Is(g=>qE(g),Kc),this.iu=new Map,this.su=new Set,this.ou=new ne(ct.comparator),this._u=new Map,this.au=new pm,this.uu={},this.cu=new Map,this.lu=ka.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function jI(a,t,i=!0){const s=DT(a);let l;const c=s.ru.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await bT(s,t,i,!0),l}async function HI(a,t){const i=DT(a);await bT(i,t,!0,!1)}async function bT(a,t,i,s){const l=await aI(a.localStore,ii(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await GI(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&pT(a.remoteStore,l),g}async function GI(a,t,i,s,l){a.Pu=(C,x,F)=>async function(nt,J,bt,yt){let ft=J.view.Ga(bt);ft.ys&&(ft=await ov(nt.localStore,J.query,!1).then(({documents:N})=>J.view.Ga(N,ft)));const kt=yt&&yt.targetChanges.get(J.targetId),_t=yt&&yt.targetMismatches.get(J.targetId)!=null,Nt=J.view.applyChanges(ft,nt.isPrimaryClient,kt,_t);return yv(nt,J.targetId,Nt.Ya),Nt.snapshot}(a,C,x,F);const c=await ov(a.localStore,t,!0),d=new xI(t,c.Ns),g=d.Ga(c.documents),p=Il.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,p);yv(a,i,v.Ya);const A=new zI(t,i,d);return a.ru.set(t,A),a.iu.has(i)?a.iu.get(i).push(t):a.iu.set(i,[t]),v.snapshot}async function FI(a,t,i){const s=Et(a),l=s.ru.get(t),c=s.iu.get(l.targetId);if(c.length>1)return s.iu.set(l.targetId,c.filter(d=>!Kc(d,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await zd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Em(s.remoteStore,l.targetId),jd(s,l.targetId)}).catch(ja)):(jd(s,l.targetId),await zd(s.localStore,l.targetId,!0))}async function QI(a,t){const i=Et(a),s=i.ru.get(t),l=i.iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Em(i.remoteStore,s.targetId))}async function KI(a,t,i){const s=tC(a);try{const l=await function(d,g){const p=Et(d),v=Se.now(),A=g.reduce((F,Z)=>F.add(Z.key),Ot());let C,x;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Z=qi(),nt=Ot();return p.Cs.getEntries(F,A).next(J=>{Z=J,Z.forEach((bt,yt)=>{yt.isValidDocument()||(nt=nt.add(bt))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,Z)).next(J=>{C=J;const bt=[];for(const yt of g){const ft=a1(yt,C.get(yt.key).overlayedDocument);ft!=null&&bt.push(new Cs(yt.key,ft,UE(ft.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(F,v,bt,g)}).next(J=>{x=J;const bt=J.applyToLocalDocumentSet(C,nt);return p.documentOverlayCache.saveOverlays(F,J.batchId,bt)})}).then(()=>({batchId:x.batchId,changes:GE(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.uu[d.currentUser.toKey()];v||(v=new ne(St)),v=v.insert(g,p),d.uu[d.currentUser.toKey()]=v}(s,l.batchId,i),await Dl(s,l.changes),await th(s.remoteStore)}catch(l){const c=Rm(l,"Failed to persist write");i.reject(c)}}async function RT(a,t){const i=Et(a);try{const s=await iI(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i._u.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?qt(d.tu,14607):l.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await Dl(i,s,t)}catch(s){await ja(s)}}function pv(a,t,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ru.forEach((c,d)=>{const g=d.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,C)=>{for(const x of C.Ra)x.ga(g)&&(v=!0)}),v&&wm(p)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function YI(a,t,i){const s=Et(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s._u.get(t),c=l&&l.key;if(c){let d=new ne(ct.comparator);d=d.insert(c,Qe.newNoDocument(c,vt.min()));const g=Ot().add(c),p=new Zc(vt.min(),new Map,new ne(St),d,g);await RT(s,p),s.ou=s.ou.remove(c),s._u.delete(t),Cm(s)}else await zd(s.localStore,t,!1).then(()=>jd(s,t,i)).catch(ja)}async function XI(a,t){const i=Et(a),s=t.batch.batchId;try{const l=await nI(i.localStore,t);IT(i,s,null),wT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Dl(i,l)}catch(l){await ja(l)}}async function $I(a,t,i){const s=Et(a);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(C=>(qt(C!==null,37113),A=C.keys(),p.mutationQueue.removeMutationBatch(v,C))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(s.localStore,t);IT(s,t,i),wT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Dl(s,l)}catch(l){await ja(l)}}function wT(a,t){(a.cu.get(t)||[]).forEach(i=>{i.resolve()}),a.cu.delete(t)}function IT(a,t,i){const s=Et(a);let l=s.uu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.uu[s.currentUser.toKey()]=l}}function jd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.iu.get(t))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(t),a.isPrimaryClient&&a.au.Ur(t).forEach(s=>{a.au.containsKey(s)||CT(a,s)})}function CT(a,t){a.su.delete(t.path.canonicalString());const i=a.ou.get(t);i!==null&&(Em(a.remoteStore,i),a.ou=a.ou.remove(t),a._u.delete(i),Cm(a))}function yv(a,t,i){for(const s of i)s instanceof AT?(a.au.addReference(s.key,t),ZI(a,s)):s instanceof ST?(it(Im,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,t),a.au.containsKey(s.key)||CT(a,s.key)):mt(19791,{Iu:s})}function ZI(a,t){const i=t.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(it(Im,"New document in limbo: "+i),a.su.add(s),Cm(a))}function Cm(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const t=a.su.values().next().value;a.su.delete(t);const i=new ct(oe.fromString(t)),s=a.lu.next();a._u.set(s,new BI(i)),a.ou=a.ou.insert(i,s),pT(a.remoteStore,new Ar(ii(hm(i.path)),s,"TargetPurposeLimboResolution",Hc.le))}}async function Dl(a,t,i){const s=Et(a),l=[],c=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{d.push(s.Pu(p,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const C=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(v){l.push(v);const C=_m.Ps(p.targetId,v);c.push(C)}}))}),await Promise.all(d),s.nu.Q_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,x=>K.forEach(x.ls,F=>A.persistence.referenceDelegate.addReference(C,x.targetId,F)).next(()=>K.forEach(x.hs,F=>A.persistence.referenceDelegate.removeReference(C,x.targetId,F)))))}catch(C){if(!Ha(C))throw C;it(vm,"Failed to update sequence numbers: "+C)}for(const C of v){const x=C.targetId;if(!C.fromCache){const F=A.Ss.get(x),Z=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(Z);A.Ss=A.Ss.insert(x,nt)}}}(s.localStore,c))}async function JI(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(Im,"User change. New user:",t.toKey());const s=await fT(i.localStore,t);i.currentUser=t,function(c,d){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new ut(X.CANCELLED,d))})}),c.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Dl(i,s.Ms)}}function WI(a,t){const i=Et(a),s=i._u.get(t);if(s&&s.tu)return Ot().add(s.key);{let l=Ot();const c=i.iu.get(t);if(!c)return l;for(const d of c){const g=i.ru.get(d);l=l.unionWith(g.view.Wa)}return l}}function DT(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YI.bind(null,t),t.nu.Q_=PI.bind(null,t.eventManager),t.nu.Tu=kI.bind(null,t.eventManager),t}function tC(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$I.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return eI(this.persistence,new J1,t.initialUser,this.serializer)}Ru(t){return new hT(ym.Ei,this.serializer)}Au(t){return new lI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class eC extends kc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){qt(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new L1(s,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new hT(s=>Uc.Ei(s,i),this.serializer)}}class Hd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JI.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new VI}()}createDatastore(t){const i=Jc(t.databaseInfo.databaseId),s=function(c){return new dI(c)}(t.databaseInfo);return function(c,d,g,p){return new yI(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,d,g){return new vI(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>pv(this.syncEngine,i,0),function(){return cv.C()?new cv:new uI}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const C=new qI(l,c,d,g,p,v);return A&&(C.hu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(Rs,"RemoteStore shutting down."),c.aa.add(5),await Cl(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class iC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=bE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Rm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function _d(a,t){a.asyncQueue.verifyOperationInProgress(),it(Mr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await fT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function _v(a,t){a.asyncQueue.verifyOperationInProgress();const i=await rC(a);it(Mr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>fv(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>fv(t.remoteStore,l)),a._onlineComponents=t}async function rC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Mr,"Using user provided OfflineComponentProvider");try{await _d(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Va("Error using user provided cache. Falling back to memory cache: "+i),await _d(a,new kc)}}else it(Mr,"Using default OfflineComponentProvider"),await _d(a,new eC(void 0));return a._offlineComponents}async function OT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Mr,"Using user provided OnlineComponentProvider"),await _v(a,a._uninitializedComponentsProvider._online)):(it(Mr,"Using default OnlineComponentProvider"),await _v(a,new Hd))),a._onlineComponents}function sC(a){return OT(a).then(t=>t.syncEngine)}async function aC(a){const t=await OT(a),i=t.eventManager;return i.onListen=jI.bind(null,t.syncEngine),i.onUnlisten=FI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=HI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=QI.bind(null,t.syncEngine),i}function oC(a,t,i={}){const s=new Ir;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new nC({next:x=>{A.yu(),d.enqueueAndForget(()=>UI(c,C));const F=x.docs.has(g);!F&&x.fromCache?v.reject(new ut(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&p&&p.source==="server"?v.reject(new ut(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),C=new LI(hm(g.path),A,{includeMetadataChanges:!0,Fa:!0});return MI(c,C)}(await aC(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(a,t,i){if(!i)throw new ut(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function uC(a,t,i,s){if(t===!0&&s===!0)throw new ut(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Ev(a){if(!ct.isDocumentKey(a))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Dm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":mt(12329,{type:typeof a})}function vl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(a);throw new ut(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firestore.googleapis.com",Tv=!0;class Av{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=Tv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Tv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<P1)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Om{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new hw;switch(s.type){case"firstParty":return new gw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=vv.get(i);s&&(it("ComponentProvider","Removing Datastore"),vv.delete(i),s.terminate())}(this),Promise.resolve()}}function cC(a,t,i,s={}){var l;a=vl(a,Om);const c=zc(t),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),p=`${t}:${i}`;c&&Vv(`https://${p}`),d.host!==VT&&d.host!==p&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!Ts(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Fe.MOCK_USER;else{A=LA(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Fe(x)}a._authCredentials=new fw(new AE(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Nm(this.firestore,t,this._query)}}class wn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new wn(this.firestore,t,this._key)}}class El extends Nm{constructor(t,i,s){super(t,i,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new wn(this.firestore,null,new ct(t))}withConverter(t){return new El(this.firestore,t,this._path)}}function ac(a,t,...i){if(a=In(a),arguments.length===1&&(t=bE.newId()),lC("doc","path",t),a instanceof Om){const s=oe.fromString(t,...i);return Ev(s),new wn(a,null,new ct(s))}{if(!(a instanceof wn||a instanceof El))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(oe.fromString(t,...i));return Ev(s),new wn(a.firestore,a instanceof El?a.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="AsyncQueue";class bv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new mT(this,"async_queue_retry"),this.ju=()=>{const s=yd();s&&it(Sv,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const i=yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new Ir;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Ha(t))throw t;it(Sv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Bi("INTERNAL UNHANDLED ERROR: ",Rv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(t,i,s){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=bm.createAndSchedule(this,t,i,s,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&mt(47125,{ec:Rv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function Rv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Vm extends Om{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new bv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bv(t),this._firestoreClient=void 0,await t}}}function hC(a,t){const i=typeof a=="object"?a:kv(),s=typeof a=="string"?a:Ic,l=Kd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=PA("firestore");c&&cC(l,...c)}return l}function MT(a){if(a._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||fC(a),a._firestoreClient}function fC(a){var t,i,s;const l=a._freezeSettings(),c=function(g,p,v,A){return new Ow(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,NT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new iC(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xa(Be.fromBase64String(t))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xa(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=/^__.*__$/;class mC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Cs(t,this.data,this.fieldMask,i,this.fieldTransforms):new wl(t,this.data,i,this.fieldTransforms)}}function PT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{oc:a})}}class km{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new km(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:s,cc:!1});return l.lc(t),l}hc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:s,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Lc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(PT(this.oc)&&dC.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class gC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Jc(t)}dc(t,i,s,l=!1){return new km({oc:t,methodName:i,Ec:s,path:ze.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pC(a){const t=a._freezeSettings(),i=Jc(a._databaseId);return new gC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function yC(a,t,i,s,l,c={}){const d=a.dc(c.merge||c.mergeFields?2:0,t,i,l);zT("Data must be an object, but it was:",d,s);const g=LT(s,d);let p,v;if(c.merge)p=new kn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const x=_C(t,C,i);if(!d.contains(x))throw new ut(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);EC(A,x)||A.push(x)}p=new kn(A),v=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,v=d.fieldTransforms;return new mC(new Rn(g),p,v)}function kT(a,t){if(xT(a=In(a)))return zT("Unsupported field value:",t,a),LT(a,t);if(a instanceof UT)return function(s,l){if(!PT(l.oc))throw l.Tc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=kT(g,l.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,t)}return function(s,l){if((s=In(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return t1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Se.fromDate(s);return{timestampValue:Mc(l.serializer,c)}}if(s instanceof Se){const c=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mc(l.serializer,c)}}if(s instanceof Um)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xa)return{bytesValue:iT(l.serializer,s._byteString)};if(s instanceof wn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:gm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pm)return function(d,g){return{mapValue:{fields:{[VE]:{stringValue:ME},[Cc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Tc("VectorValues must only contain numeric values.");return fm(g.serializer,v)})}}}}}}(s,l);throw l.Tc(`Unsupported field value: ${Dm(s)}`)}(a,t)}function LT(a,t){const i={};return wE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(a,(s,l)=>{const c=kT(l,t.uc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function xT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof Um||a instanceof xa||a instanceof wn||a instanceof UT||a instanceof Pm)}function zT(a,t,i){if(!xT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Dm(i);throw s==="an object"?t.Tc(a+" a custom object"):t.Tc(a+" "+s)}}function _C(a,t,i){if((t=In(t))instanceof Mm)return t._internalPath;if(typeof t=="string")return BT(a,t);throw Lc("Field path arguments must be of type string or ",a,!1,void 0,i)}const vC=new RegExp("[~\\*/\\[\\]]");function BT(a,t,i){if(t.search(vC)>=0)throw Lc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Mm(...t.split("."))._internalPath}catch{throw Lc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Lc(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ut(X.INVALID_ARGUMENT,g+a+p)}function EC(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(jT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TC extends qT{data(){return super.data()}}function jT(a,t){return typeof t=="string"?BT(a,t):t instanceof Mm?t._internalPath:t._delegate._internalPath}class AC{convertValue(t,i="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ws(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Cc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Pm(c)}convertGeoPoint(t){return new Um(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Fc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ml(t));default:return null}}convertTimestamp(t){const i=Dr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=oe.fromString(t);qt(uT(s),9688,{name:t});const l=new gl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(a,t,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class HT extends qT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new RC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(jT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class RC extends HT{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(a){a=vl(a,wn);const t=vl(a.firestore,Vm);return oC(MT(t),a._key).then(i=>DC(t,a,i))}class IC extends AC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new wn(this.firestore,null,i)}}function oc(a,t,i){a=vl(a,wn);const s=vl(a.firestore,Vm),l=SC(a.converter,t,i);return CC(s,[yC(pC(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Li.none())])}function CC(a,t){return function(s,l){const c=new Ir;return s.asyncQueue.enqueueAndForget(async()=>KI(await sC(s),l,c)),c.promise}(MT(a),t)}function DC(a,t,i){const s=i.docs.get(t._key),l=new IC(a);return new HT(a,l,t._key,s,new bC(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){qa=l})(za),Oa(new As("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Vm(new dw(s.getProvider("auth-internal")),new pw(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Rr(N_,V_,t),Rr(N_,V_,"esm2017")})();const OC={apiKey:"AIzaSyBkJ-Aombeh8jX7CXH27RsBAjsRRIDQkXI",authDomain:"final-webdev-c1c2a.firebaseapp.com",projectId:"final-webdev-c1c2a",storageBucket:"final-webdev-c1c2a.firebasestorage.app",messagingSenderId:"616510828938",appId:"1:616510828938:web:821f5077eb584721171873",measurementId:"G-DZE87K2KN0"},GT=Pv(OC),vd=uw(GT),NC=new Ui,lc=hC(GT);function VC(){const[a,t]=nl.useState(0),[i,s]=nl.useState(null);nl.useEffect(()=>{if(!i)return;const p=ac(lc,"users",i.uid,"counter","count");(async()=>{const A=await wC(p);if(A.exists()){const C=A.data();t(C.value)}else await oc(p,{value:0}),t(0)})()},[i]);const l=async()=>{if(!i)return;const p=ac(lc,"users",i.uid,"counter","count"),v=a+1;t(v),await oc(p,{value:v})},c=async()=>{if(!i)return;const p=ac(lc,"users",i.uid,"counter","count");t(0),await oc(p,{value:0})};nl.useEffect(()=>{const p=Zb(vd,v=>{s(v),v||t(0)});return()=>p()},[]);const d=async()=>{try{const v=(await _R(vd,NC)).user,A=ac(lc,"users",v.uid);await oc(A,{name:v.displayName,email:v.email,photo:v.photoURL,uid:v.uid},{merge:!0})}catch(p){console.error("Error upon sign in: ",p)}},g=async()=>{try{await Jb(vd)}catch(p){console.error("Error upon sign out: ",p)}};return ee.jsxs(ee.Fragment,{children:[i&&ee.jsxs("div",{className:"user-info",children:[ee.jsx("img",{src:i.photoURL,alt:"Profile"}),ee.jsx("span",{children:i.displayName})]}),ee.jsxs("div",{children:[ee.jsx("a",{href:"https://vite.dev",target:"_blank",children:ee.jsx("img",{src:wA,className:"logo",alt:"Vite logo"})}),ee.jsx("a",{href:"https://react.dev",target:"_blank",children:ee.jsx("img",{src:RA,className:"logo react",alt:"React logo"})}),ee.jsx("a",{href:"https://firebase.google.com/",target:"_blank",children:ee.jsx("img",{src:"https://firebase.google.com/downloads/brand-guidelines/PNG/logo-logomark.png",className:"logo firebase",alt:"firebase logo"})})]}),ee.jsx("h1",{children:"Vite + React + Firebase"}),ee.jsx("div",{className:"card",children:i?ee.jsxs(ee.Fragment,{children:[ee.jsx("button",{onClick:g,children:"Sign Out"}),ee.jsxs("button",{onClick:l,children:["Count: ",a]}),ee.jsx("button",{onClick:c,children:"Reset Count"})]}):ee.jsx("button",{onClick:d,children:"Sign In"})}),ee.jsx("p",{className:"read-the-docs",children:"Click on the Vite, React, and Firebase logos to learn more"})]})}bA.createRoot(document.getElementById("root")).render(ee.jsx(nl.StrictMode,{children:ee.jsx(VC,{})}));
